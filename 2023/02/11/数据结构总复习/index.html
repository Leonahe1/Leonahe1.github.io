

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Leonahe">
  <meta name="keywords" content="">
  
    <meta name="description" content="1、逻辑结构与存储结构数据结构 定义：数据结构指的是数据的逻辑结构和存储结构及其操作 ​	   主要是研究非数值性程序设计中计算机操作的对象（数据）及其相互关系和运算的学科 分类：  2、数组与链表的区别笔试题： 数组&amp;链表的区别（顺序表和单链表的区别） ​	1、逻辑结构：数组 ​				（1）数组在内存中连续； ​				（2）使用数组之前，必须事先固定数组长度，不支持动态改变数组大">
<meta property="og:type" content="article">
<meta property="og:title" content="数据结构总复习">
<meta property="og:url" content="https://leonahe1.github.io/2023/02/11/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%80%BB%E5%A4%8D%E4%B9%A0/index.html">
<meta property="og:site_name" content="HHY&#39;Blog">
<meta property="og:description" content="1、逻辑结构与存储结构数据结构 定义：数据结构指的是数据的逻辑结构和存储结构及其操作 ​	   主要是研究非数值性程序设计中计算机操作的对象（数据）及其相互关系和运算的学科 分类：  2、数组与链表的区别笔试题： 数组&amp;链表的区别（顺序表和单链表的区别） ​	1、逻辑结构：数组 ​				（1）数组在内存中连续； ​				（2）使用数组之前，必须事先固定数组长度，不支持动态改变数组大">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://leonahe1.github.io/images/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84.png">
<meta property="og:image" content="https://leonahe1.github.io/images/%E9%93%BE%E8%A1%A8%E7%BB%93%E7%82%B9.png">
<meta property="og:image" content="https://leonahe1.github.io/images/%E5%8D%95%E9%93%BE%E8%A1%A8%E4%BA%A4%E5%8F%89.png">
<meta property="og:image" content="https://leonahe1.github.io/images/%E5%8D%95%E5%90%91%E5%BE%AA%E7%8E%AF%E9%93%BE%E8%A1%A8%E7%A4%BA%E6%84%8F%E5%9B%BE.png">
<meta property="og:image" content="https://leonahe1.github.io/images/%E5%8F%8C%E5%90%91%E5%BE%AA%E7%8E%AF%E9%93%BE%E8%A1%A8%E7%A4%BA%E6%84%8F%E5%9B%BE.png">
<meta property="og:image" content="https://leonahe1.github.io/images/%E9%A1%BA%E5%BA%8F%E9%98%9F%E5%88%97.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%97.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E9%93%BE%E9%98%9F%E5%88%97.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E5%8F%8C%E7%AB%AF%E9%98%9F%E5%88%97.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E4%BA%8C%E5%8F%89%E6%A0%91%E9%81%8D%E5%8E%86.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E4%B8%AD%E7%BC%80%E8%A1%A8%E8%BE%BE%E5%BC%8F-1676106167660.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E8%B5%AB%E5%A4%AB%E6%9B%BC%E6%A0%91.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E5%9B%BE.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E8%AE%A1%E7%AE%97.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%AF%94%E8%BE%83.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E5%93%88%E5%B8%8C%E5%9B%BE1.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E5%93%88%E5%B8%8C%E5%9B%BE2.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E9%93%BE%E5%9C%B0%E5%9D%80%E6%B3%95-1676106340259.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E5%85%AB%E5%A4%A7%E6%8E%92%E5%BA%8F.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E5%A0%86%E6%8E%92%E5%BA%8F.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E5%A0%86%E6%8E%92%E5%BA%8F02.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E5%A0%86%E6%8E%92%E5%BA%8F03.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E6%8E%92%E5%BA%8F%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%A2%9E%E9%95%BF%E6%83%85%E5%86%B5.jpg">
<meta property="og:image" content="https://leonahe1.github.io/images/%E4%B8%8D%E5%90%8C%E5%A4%A7%E5%B0%8F%E8%BE%93%E5%85%A5%E7%9A%84%E8%BF%90%E8%A1%8C%E6%97%B6%E9%97%B4.jpg">
<meta property="article:published_time" content="2023-02-11T08:51:33.000Z">
<meta property="article:modified_time" content="2023-02-11T09:14:15.521Z">
<meta property="article:author" content="Leonahe">
<meta property="article:tag" content="复习">
<meta property="article:tag" content="数据结构">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://leonahe1.github.io/images/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>数据结构总复习 - HHY&#39;Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/prism/1.27.0/plugins/line-numbers/prism-line-numbers.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"leonahe1.github.io","root":"/","version":"1.9.2","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>HHY&#39;BLOG</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="数据结构总复习"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-02-11 16:51" pubdate>
          2023年2月11日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          54k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          452 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">数据结构总复习</h1>
            
            
              <div class="markdown-body">
                
                <span id="more"></span>

<h1 id="1、逻辑结构与存储结构"><a href="#1、逻辑结构与存储结构" class="headerlink" title="1、逻辑结构与存储结构"></a>1、逻辑结构与存储结构</h1><p>数据结构</p>
<p>定义：数据结构指的是数据的逻辑结构和存储结构及其操作</p>
<p>​	   主要是研究非数值性程序设计中计算机操作的对象（数据）及其相互关系和运算的学科</p>
<p>分类：</p>
<p><img src="/images/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84.png" srcset="/img/loading.gif" lazyload></p>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h1 id="2、数组与链表的区别"><a href="#2、数组与链表的区别" class="headerlink" title="2、数组与链表的区别"></a>2、数组与链表的区别</h1><p>笔试题： 数组&amp;链表的区别（顺序表和单链表的区别）</p>
<p>​	1、逻辑结构：数组</p>
<p>​				（1）数组在内存中连续；</p>
<p>​				（2）使用数组之前，必须事先固定数组长度，不支持动态改变数组大小；</p>
<p>​				（3）数组元素增加时，有可能会数组越界；</p>
<p>​				（4）数组元素减少时，会造成内存浪费；</p>
<p>​				（5）数组增删时需要移动其它元素</p>
<p>​				链表</p>
<p>​				（1）链表采用动态内存分配的方式，在内存中不连续；</p>
<p>​				（2）支持动态增加或者删除元素；</p>
<p>​				（3）需要时可以使用malloc或new来申清内存，不用时使用free或者delete来释放内存</p>
<p>​	2、内存结构：</p>
<p>​		数组： 数组从栈上分配内存，使方便，但是自由度小；</p>
<p>​		链表：链表从堆上分配内存，自由度大，但是要注意内存泄露</p>
<p>​	3、访问效率：</p>
<p>​		数组：数组在内存中顺序存储，可诵过下标访问，访问效率高；</p>
<p>​		链表：链表访问效率低，如果想要访问某个元素，需要从头遍历</p>
<p>​	4、越界问题：</p>
<p>​		数组：数组的大小是固定的，所以存在访问越界的风险；</p>
<p>​		链表：只要可以申请得到链表空间，链表就无越界风险</p>
<h1 id="3、单链表"><a href="#3、单链表" class="headerlink" title="3、单链表"></a>3、单链表</h1><h3 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h3><ul>
<li>有头链表：浪费一个节点，第一个节点作为头节点，后面为数据节点，当数据插入与删除时不会改变链表入口，使用比较方便。</li>
<li>无头链表：第一个节点为数据节点，存在数据插入与删除现象，会改变链表入口变化，不易维护。</li>
</ul>
<h3 id="链表头结点定义"><a href="#链表头结点定义" class="headerlink" title="链表头结点定义"></a>链表头结点定义</h3><ul>
<li><p>包括数据域和指针域</p>
</li>
<li><p>list.h文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">int</span> <span class="token class-name">data_t</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure>

<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">List</span>
<span class="token punctuation">&#123;</span>
    <span class="token class-name">data_t</span> data<span class="token punctuation">;</span>  <span class="token comment">//数据域 </span>
    <span class="token keyword">struct</span> <span class="token class-name">List</span> <span class="token operator">*</span>pNext<span class="token punctuation">;</span>  <span class="token comment">//指针域，用来连接后继元素 </span>
<span class="token punctuation">&#125;</span>List<span class="token punctuation">;</span>  <span class="token comment">//List为节点名，每个结点都是一个List结构体</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure></li>
</ul>
<p><img src="/images/%E9%93%BE%E8%A1%A8%E7%BB%93%E7%82%B9.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="创建头结点"><a href="#创建头结点" class="headerlink" title="创建头结点"></a>创建头结点</h3><ul>
<li><p>list.h文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c">List <span class="token operator">*</span><span class="token function">CreateList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure>
</li>
<li><p>list.c文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c">List <span class="token operator">*</span><span class="token function">CreateList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	List <span class="token operator">*</span>pList <span class="token operator">=</span> <span class="token punctuation">(</span>List <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>List<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>pList<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>List<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//bzero(pList,sizeof(List));</span>
    
	<span class="token keyword">return</span> pList<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure></li>
</ul>
<h3 id="插入"><a href="#插入" class="headerlink" title="插入"></a>插入</h3><ul>
<li><p>list.h文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">InsertItem</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">,</span><span class="token class-name">data_t</span> tData<span class="token punctuation">,</span><span class="token keyword">int</span> iOffset<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure>
</li>
<li><p>list.c文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">InsertItem</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">,</span><span class="token class-name">data_t</span> tData<span class="token punctuation">,</span><span class="token keyword">int</span> iOffset<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList <span class="token operator">||</span> iOffset <span class="token operator">&lt;</span> TAIL<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token comment">//create node 创建新结点</span>
	List <span class="token operator">*</span>pNode <span class="token operator">=</span> <span class="token punctuation">(</span>List <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>List<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pNode<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">bzero</span><span class="token punctuation">(</span>pNode<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>List<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pNode<span class="token operator">-></span>data <span class="token operator">=</span> tData<span class="token punctuation">;</span>  <span class="token comment">//新节点插入数据</span>
	<span class="token comment">//insert</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList<span class="token operator">-></span>pNext<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		pList<span class="token operator">-></span>pNext <span class="token operator">=</span> pNode<span class="token punctuation">;</span>
		pList<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">data_t</span><span class="token punctuation">)</span>pNode<span class="token punctuation">;</span>
		<span class="token keyword">return</span> TYPE_OK<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">switch</span><span class="token punctuation">(</span>iOffset<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
         <span class="token comment">//头插</span>
		<span class="token keyword">case</span> HEAD<span class="token operator">:</span>
		<span class="token punctuation">&#123;</span>
			pNode<span class="token operator">-></span>pNext <span class="token operator">=</span> pList<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
			pList<span class="token operator">-></span>pNext <span class="token operator">=</span> pNode<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
         <span class="token comment">//尾插</span>
		<span class="token keyword">case</span> TAIL<span class="token operator">:</span>
		<span class="token punctuation">&#123;</span>
			<span class="token comment">/*List *pTail = pList;
			while(pTail != NULL)
			&#123;
				if(NULL == pTail->pNext)
				&#123;
					break;
				&#125;
				pTail = pTail->pNext;
			&#125;
			pTail->pNext = pNode;*/</span>
			List <span class="token operator">*</span>pTail <span class="token operator">=</span> <span class="token punctuation">(</span>List <span class="token operator">*</span><span class="token punctuation">)</span>pList<span class="token operator">-></span>data<span class="token punctuation">;</span>
			pTail<span class="token operator">-></span>pNext <span class="token operator">=</span> pNode<span class="token punctuation">;</span>
			pList<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">data_t</span><span class="token punctuation">)</span>pNode<span class="token punctuation">;</span>	
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
         <span class="token comment">//任意位置插入</span>
		<span class="token keyword">default</span><span class="token operator">:</span>
		<span class="token punctuation">&#123;</span>
			List <span class="token operator">*</span>pTmp <span class="token operator">=</span> pList<span class="token punctuation">;</span>
			<span class="token keyword">while</span><span class="token punctuation">(</span>iOffset<span class="token operator">--</span><span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">)</span>
				<span class="token punctuation">&#123;</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token punctuation">&#125;</span>
				pTmp <span class="token operator">=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pTmp<span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">)</span>
				<span class="token punctuation">&#123;</span>
					pList<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">data_t</span><span class="token punctuation">)</span>pNode<span class="token punctuation">;</span>
				<span class="token punctuation">&#125;</span>
				pNode<span class="token operator">-></span>pNext <span class="token operator">=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
				pTmp<span class="token operator">-></span>pNext <span class="token operator">=</span> pNode<span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> TYPE_OK<span class="token punctuation">;</span>	
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure></li>
</ul>
<h3 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h3><ul>
<li><p>list.h文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">SearchItem</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">,</span><span class="token class-name">data_t</span> tData<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//根据数据查找</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure>

<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">SearchItem</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">,</span><span class="token keyword">int</span> iOffset<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//根据位置查找</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure>

<p>​</p>
</li>
<li><p>list.c文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">SearchItem</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">,</span><span class="token class-name">data_t</span> tData<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	List <span class="token operator">*</span>pNode <span class="token operator">=</span> pList<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
    <span class="token comment">//根据数据查找</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pNode<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>pNode<span class="token operator">-></span>data <span class="token operator">==</span> tData<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> TYPE_OK<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		pNode <span class="token operator">=</span> pNode<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">SearchItem</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">,</span><span class="token keyword">int</span> iOffset<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList <span class="token operator">||</span> iOffset <span class="token operator">&lt;</span> TAIL<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	List <span class="token operator">*</span>pNode <span class="token operator">=</span> pList<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
    <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">//根据位置查找</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pNode <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;</span> iOffset<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		pNode <span class="token operator">=</span> pNode<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
        j<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>j <span class="token operator">==</span> iOffset<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> TYPE_OK<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>​</p>
</li>
</ul>
<h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><ul>
<li><p>list.h文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">UpdateItem</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">,</span><span class="token class-name">data_t</span> tOld<span class="token punctuation">,</span><span class="token class-name">data_t</span> tNew<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure>
</li>
<li><p>list.c文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">UpdateItem</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">,</span><span class="token class-name">data_t</span> tOld<span class="token punctuation">,</span><span class="token class-name">data_t</span> tNew<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	List <span class="token operator">*</span>pNode <span class="token operator">=</span> pList<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pNode<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>pNode<span class="token operator">-></span>data <span class="token operator">==</span> tOld<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			pNode<span class="token operator">-></span>data <span class="token operator">=</span> tNew<span class="token punctuation">;</span>
			<span class="token keyword">return</span> TYPE_OK<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		pNode <span class="token operator">=</span> pNode<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure></li>
</ul>
<h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><ul>
<li><p>list.h文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">DeleteItem</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">,</span><span class="token class-name">data_t</span> <span class="token operator">*</span>pData<span class="token punctuation">,</span><span class="token keyword">int</span> iOffset<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure>
</li>
<li><p>list.c文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">DeleteItem</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">,</span><span class="token class-name">data_t</span> <span class="token operator">*</span>pData<span class="token punctuation">,</span><span class="token keyword">int</span> iOffset<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList <span class="token operator">||</span> <span class="token constant">NULL</span> <span class="token operator">==</span> pData <span class="token operator">||</span> iOffset <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
    <span class="token comment">//根据偏移量删除（位置删除）</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>HEAD <span class="token operator">==</span> iOffset<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		List <span class="token operator">*</span>pDel <span class="token operator">=</span> pList<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pDel<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token operator">*</span>pData <span class="token operator">=</span> pDel<span class="token operator">-></span>data<span class="token punctuation">;</span>
		pList<span class="token operator">-></span>pNext <span class="token operator">=</span> pDel<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
		<span class="token function">free</span><span class="token punctuation">(</span>pDel<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pDel <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
		
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList<span class="token operator">-></span>pNext<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"empty list\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			pList<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">&#123;</span>
		List <span class="token operator">*</span>pTmp <span class="token operator">=</span> pList<span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>iOffset<span class="token operator">--</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pTmp<span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
			pTmp <span class="token operator">=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pTmp<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			List <span class="token operator">*</span>pDel <span class="token operator">=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pDel<span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>		
			<span class="token punctuation">&#125;</span>
			<span class="token operator">*</span>pData <span class="token operator">=</span> pDel<span class="token operator">-></span>data<span class="token punctuation">;</span>
			pTmp<span class="token operator">-></span>pNext <span class="token operator">=</span> pDel<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
			<span class="token function">free</span><span class="token punctuation">(</span>pDel<span class="token punctuation">)</span><span class="token punctuation">;</span>
			pDel <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"offset,change tail\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				pList<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">data_t</span><span class="token punctuation">)</span>pTmp<span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> TYPE_OK<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure></li>
</ul>
<h3 id="销毁"><a href="#销毁" class="headerlink" title="销毁"></a>销毁</h3><ul>
<li><p>list.h文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">DestoryList</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure>
</li>
<li><p>list.c文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">DestoryList</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	List <span class="token operator">*</span>pDel <span class="token operator">=</span> pList<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
	List <span class="token operator">*</span>pTmp <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pDel<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		pTmp <span class="token operator">=</span> pDel<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
		<span class="token function">free</span><span class="token punctuation">(</span>pDel<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pDel <span class="token operator">=</span> pTmp<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">free</span><span class="token punctuation">(</span>pList<span class="token punctuation">)</span><span class="token punctuation">;</span>
	pList <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure></li>
</ul>
<h3 id="显示"><a href="#显示" class="headerlink" title="显示"></a>显示</h3><ul>
<li><p>list.h文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">ShowList</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure>
</li>
<li><p>list.c文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">ShowList</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	List <span class="token operator">*</span>pTmp <span class="token operator">=</span> pList<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pTmp<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>pTmp<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pTmp <span class="token operator">=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure></li>
</ul>
<h3 id="逆序（倒序）"><a href="#逆序（倒序）" class="headerlink" title="逆序（倒序）"></a>逆序（倒序）</h3><ul>
<li><p>list.h文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">Resver</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure>
</li>
<li><p>list.c文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">Resver</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
    List <span class="token operator">*</span>pTmp <span class="token operator">=</span> pList<span class="token punctuation">;</span>
    List <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    List <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	p <span class="token operator">=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">;</span>  <span class="token comment">//p指向链表的第一个数据结点</span>
	pTmp<span class="token operator">-></span>pNext <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> p<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		q <span class="token operator">=</span> p<span class="token punctuation">;</span>
		p <span class="token operator">=</span> p<span class="token operator">-></span>pNext<span class="token punctuation">;</span>  <span class="token comment">//p继续指向剩余结点链表新的第一个数据结点</span>
		q<span class="token operator">-></span>pNext <span class="token operator">=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">;</span>  <span class="token comment">//剩余结点链表中取出第一个结点</span>
		pTmp<span class="token operator">-></span>pNext <span class="token operator">=</span> q<span class="token punctuation">;</span>  <span class="token comment">//将取出的第一个数据头插进链表</span>
	<span class="token punctuation">&#125;</span>
	pList <span class="token operator">=</span> pTmp<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure></li>
</ul>
<h3 id="判断单链表交叉"><a href="#判断单链表交叉" class="headerlink" title="判断单链表交叉"></a>判断单链表交叉</h3><p>判断两个单链表是否相交，首先，要搞清楚“相交”的含义。所谓相交，是指有公共的部分，而两个单链表相交，则意味着它们有公共的节点 ，公共节点的数量可以是一个或者多个 。<br>因为单链表是线性表的一种，如果我们将两个单链表看做两条线段的话，下图模拟了两条线段相交的所有可能情况。</p>
<p><img src="/images/%E5%8D%95%E9%93%BE%E8%A1%A8%E4%BA%A4%E5%8F%89.png" srcset="/img/loading.gif" lazyload></p>
<p>注意，结合“单链表中每个节点有且仅有一个指针域”的特性，如图所示的这3种情况中，只有第2种情况符合单链表的特性，另外两种情况则破坏了此特性。经过以上的分析，本节要验证两个单链表是否相交，实际上等同于<strong>判断两个单链表是否和图②所示的存储结构相同。</strong></p>
<ul>
<li><p>list.h文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c">bool <span class="token function">LinkIntersect</span><span class="token punctuation">(</span>List<span class="token operator">*</span> L1<span class="token punctuation">,</span> List<span class="token operator">*</span> L2<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure>
</li>
<li><p>list.c文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//L1和L2为2个单链表，函数返回True表示链表相交，返回False表示不相交</span>
bool <span class="token function">LinkIntersect</span><span class="token punctuation">(</span>List<span class="token operator">*</span> L1<span class="token punctuation">,</span> List<span class="token operator">*</span> L2<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	List<span class="token operator">*</span> plong <span class="token operator">=</span> L1<span class="token punctuation">;</span>
	List<span class="token operator">*</span> pshort <span class="token operator">=</span> L2<span class="token punctuation">;</span>
	List<span class="token operator">*</span> temp <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> num1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> num2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> step <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token comment">//得到L1的长度</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>plong<span class="token punctuation">)</span> 
    <span class="token punctuation">&#123;</span>
		num1<span class="token operator">++</span><span class="token punctuation">;</span>
		plong <span class="token operator">=</span> plong<span class="token operator">-></span>next<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token comment">//得到L2的长度</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>pshort<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
		num2<span class="token operator">++</span><span class="token punctuation">;</span>
		pshort <span class="token operator">=</span> pshort<span class="token operator">-></span>next<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token comment">//重置plong和pshort，使plong代表较长的链表，pshort代表较短的链表</span>
	plong <span class="token operator">=</span> L1<span class="token punctuation">;</span>
	pshort <span class="token operator">=</span> L2<span class="token punctuation">;</span>
	step <span class="token operator">=</span> num1 <span class="token operator">-</span> num2<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>num1 <span class="token operator">&lt;</span> num2<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
		plong <span class="token operator">=</span> L2<span class="token punctuation">;</span>
		pshort <span class="token operator">=</span> L1<span class="token punctuation">;</span>
		step <span class="token operator">=</span> num2 <span class="token operator">-</span>num1<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token comment">//将temp指向与pshort相同的那个节点</span>
	temp <span class="token operator">=</span> plong<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>step<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
		temp <span class="token operator">=</span> temp<span class="token operator">-></span>next<span class="token punctuation">;</span>
		step<span class="token operator">--</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token comment">//逐个作比较temp和short链表的节点是否相同</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>temp <span class="token operator">&amp;&amp;</span> pshort<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
		<span class="token comment">//可以比较指向指针地址是否相同相同</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>temp <span class="token operator">==</span> pshort<span class="token punctuation">)</span>
        <span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> True<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		temp <span class="token operator">=</span> temp<span class="token operator">-></span>next<span class="token punctuation">;</span>
		pshort <span class="token operator">=</span> pshort<span class="token operator">-></span>next<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> False<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure></li>
</ul>
<h3 id="判断单链表成环"><a href="#判断单链表成环" class="headerlink" title="判断单链表成环"></a>判断单链表成环</h3><p>判断是否有环也比较简单，思路是：<strong>设置一个快指针和慢指针，慢指针每次走一步，快指针每次走两步，如果环存在，那么快指针总能追上慢指针，也就是如果快慢指针能指向同一个元素的时候，那么说明是有环的。反之，如果快慢指针无法相遇，那么链表就无环。</strong></p>
<ul>
<li><p>list.h文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c">bool <span class="token function">Loop</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure>
</li>
<li><p>list.c文件</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c">bool <span class="token function">Loop</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">)</span><span class="token comment">//判断链表是否有环,有环现在能判断 </span>
<span class="token punctuation">&#123;</span>
	List <span class="token operator">*</span>slow<span class="token punctuation">,</span><span class="token operator">*</span>fast<span class="token punctuation">;</span>
	slow <span class="token operator">=</span> fast <span class="token operator">=</span> pList<span class="token operator">-></span>next<span class="token punctuation">;</span>
	fast <span class="token operator">=</span> fast<span class="token operator">-></span>next<span class="token punctuation">;</span>  <span class="token comment">//fast先走一步</span>
	
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>slow <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>fast<span class="token operator">-></span>next <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		slow <span class="token operator">=</span> slow<span class="token operator">-></span>next<span class="token punctuation">;</span>  <span class="token comment">//slow指针每次走一步 </span>
		fast <span class="token operator">=</span> fast<span class="token operator">-></span>next<span class="token punctuation">;</span>  <span class="token comment">//fast指针每次走两步 </span>
		fast <span class="token operator">=</span> fast<span class="token operator">-></span>next<span class="token punctuation">;</span>
		
		<span class="token keyword">if</span><span class="token punctuation">(</span>slow <span class="token operator">==</span> fast<span class="token punctuation">)</span>  <span class="token comment">//如果快慢指针相遇,说明环存在,直接返回true</span>
			<span class="token keyword">return</span> true<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span> 
	<span class="token keyword">return</span> false<span class="token punctuation">;</span>  <span class="token comment">//如果指针到了末尾函数还没返回，说明环不存在</span>
<span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure></li>
</ul>
<h1 id="4、双向链表"><a href="#4、双向链表" class="headerlink" title="4、双向链表"></a>4、双向链表</h1><h2 id="4-1结构体定义"><a href="#4-1结构体定义" class="headerlink" title="4.1结构体定义"></a>4.1结构体定义</h2><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">List</span>
<span class="token punctuation">&#123;</span>
	<span class="token class-name">data_t</span> data<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">List</span> <span class="token operator">*</span>pNext<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">List</span> <span class="token operator">*</span>pPri<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>List<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h2 id="4-2创建头节点"><a href="#4-2创建头节点" class="headerlink" title="4.2创建头节点"></a>4.2创建头节点</h2><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c">List <span class="token operator">*</span><span class="token function">CreateList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	List <span class="token operator">*</span>pList <span class="token operator">=</span> <span class="token punctuation">(</span>List <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>List<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>pList<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>List<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//bzero(pList,sizeof(List));</span>
	<span class="token keyword">return</span> pList<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h2 id="4-3插入节点"><a href="#4-3插入节点" class="headerlink" title="4.3插入节点"></a>4.3插入节点</h2><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">InsertItem</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">,</span><span class="token class-name">data_t</span> tData<span class="token punctuation">,</span><span class="token keyword">int</span> iOffset<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList <span class="token operator">||</span>iOffset <span class="token operator">&lt;</span> TAIL<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token comment">//创建插入节点</span>
	List <span class="token operator">*</span>pNode <span class="token operator">=</span> <span class="token punctuation">(</span>List <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>List<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pNode<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">bzero</span><span class="token punctuation">(</span>pNode<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>List<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pNode<span class="token operator">-></span>data <span class="token operator">=</span> tData<span class="token punctuation">;</span><span class="token comment">//新节点插入数据</span>
	<span class="token comment">//节点插入</span>
    <span class="token comment">/*头部插入*/</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList<span class="token operator">-></span>pNext<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		pList<span class="token operator">-></span>pNext <span class="token operator">=</span> pNode<span class="token punctuation">;</span>
		pList<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">data_t</span><span class="token punctuation">)</span>pNode<span class="token punctuation">;</span><span class="token comment">//头部节点数据区保存尾节点地址</span>
		pNode<span class="token operator">-></span>pPri <span class="token operator">=</span> pList<span class="token punctuation">;</span>
		<span class="token keyword">return</span> TYPE_OK<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
    <span class="token comment">/*偏移量插入*/</span>
	<span class="token keyword">switch</span><span class="token punctuation">(</span>iOffset<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">case</span> HEAD<span class="token operator">:</span><span class="token comment">//头部插入</span>
		<span class="token punctuation">&#123;</span>
			pNode<span class="token operator">-></span>pNext <span class="token operator">=</span> pList<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
			pList<span class="token operator">-></span>pNext<span class="token operator">-></span>pPri <span class="token operator">=</span> pNode<span class="token punctuation">;</span>
			pNode<span class="token operator">-></span>pPri<span class="token operator">=</span>pList<span class="token punctuation">;</span>
			pList<span class="token operator">-></span>pNext<span class="token operator">=</span>pNode<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> TAIL<span class="token operator">:</span><span class="token comment">//尾部插入</span>
		<span class="token punctuation">&#123;</span>
			List <span class="token operator">*</span>pTail <span class="token operator">=</span> <span class="token punctuation">(</span>List <span class="token operator">*</span><span class="token punctuation">)</span>pList<span class="token operator">-></span>data<span class="token punctuation">;</span>
			pTail<span class="token operator">-></span>pNext <span class="token operator">=</span> pNode<span class="token punctuation">;</span>
			pList<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">data_t</span><span class="token punctuation">)</span>pNode<span class="token punctuation">;</span>
			pNode<span class="token operator">-></span>pPri <span class="token operator">=</span> pTail<span class="token punctuation">;</span>	
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">default</span><span class="token operator">:</span><span class="token comment">//偏移量插入</span>
		<span class="token punctuation">&#123;</span>
			List <span class="token operator">*</span>pTmp <span class="token operator">=</span> pList<span class="token punctuation">;</span>
			<span class="token keyword">while</span><span class="token punctuation">(</span>iOffset<span class="token operator">--</span><span class="token punctuation">)</span><span class="token comment">//找到插入位置</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">)</span>
				<span class="token punctuation">&#123;</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token punctuation">&#125;</span>
				pTmp <span class="token operator">=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pTmp<span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">)</span><span class="token comment">//偏移到尾</span>
				<span class="token punctuation">&#123;</span>
					pList<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">data_t</span><span class="token punctuation">)</span>pNode<span class="token punctuation">;</span>
				<span class="token punctuation">&#125;</span>
				<span class="token keyword">else</span><span class="token comment">//中间插入</span>
				<span class="token punctuation">&#123;</span>
					pTmp<span class="token operator">-></span>pNext<span class="token operator">-></span>pPri <span class="token operator">=</span> pNode<span class="token punctuation">;</span>
				<span class="token punctuation">&#125;</span>
				pNode<span class="token operator">-></span>pNext <span class="token operator">=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
				pTmp<span class="token operator">-></span>pNext <span class="token operator">=</span> pNode<span class="token punctuation">;</span>
				pNode<span class="token operator">-></span>pPri <span class="token operator">=</span> pTmp<span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> TYPE_OK<span class="token punctuation">;</span>	
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h2 id="4-4查找（数据、位置）"><a href="#4-4查找（数据、位置）" class="headerlink" title="4.4查找（数据、位置）"></a>4.4查找（数据、位置）</h2><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">SearchItem</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">,</span><span class="token class-name">data_t</span> tData<span class="token punctuation">)</span><span class="token comment">//数据查找</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	List <span class="token operator">*</span>pNode <span class="token operator">=</span> pList<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pNode<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>pNode<span class="token operator">-></span>data <span class="token operator">==</span> tData<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> TYPE_OK<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		pNode <span class="token operator">=</span> pNode<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>



<h2 id="4-5更新"><a href="#4-5更新" class="headerlink" title="4.5更新"></a>4.5更新</h2><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">UpdateItem</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">,</span><span class="token class-name">data_t</span> tOld<span class="token punctuation">,</span><span class="token class-name">data_t</span> tNew<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	List <span class="token operator">*</span>pNode <span class="token operator">=</span> pList<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pNode<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>pNode<span class="token operator">-></span>data <span class="token operator">==</span> tOld<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			pNode<span class="token operator">-></span>data <span class="token operator">=</span> tNew<span class="token punctuation">;</span>
			<span class="token keyword">return</span> TYPE_OK<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		pNode <span class="token operator">=</span> pNode<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>



<h2 id="4-6删除（数据、位置）"><a href="#4-6删除（数据、位置）" class="headerlink" title="4.6删除（数据、位置）"></a>4.6删除（数据、位置）</h2><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">DeleteItem</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">,</span><span class="token class-name">data_t</span> <span class="token operator">*</span>pData<span class="token punctuation">,</span><span class="token keyword">int</span> iOffset<span class="token punctuation">)</span><span class="token comment">//位置删除</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList <span class="token operator">||</span> <span class="token constant">NULL</span> <span class="token operator">==</span> pData <span class="token operator">||</span> iOffset <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>HEAD <span class="token operator">==</span> iOffset<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		List <span class="token operator">*</span>pDel <span class="token operator">=</span> pList<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pDel<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token operator">*</span>pData <span class="token operator">=</span> pDel<span class="token operator">-></span>data<span class="token punctuation">;</span>
		pList<span class="token operator">-></span>pNext <span class="token operator">=</span> pDel<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
		<span class="token function">free</span><span class="token punctuation">(</span>pDel<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pDel <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
		
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList<span class="token operator">-></span>pNext<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"empty list\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			pList<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">&#123;</span>
			pList<span class="token operator">-></span>pNext<span class="token operator">-></span>pPri <span class="token operator">=</span> pList<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>

	<span class="token punctuation">&#125;</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">&#123;</span>
		List <span class="token operator">*</span>pTmp <span class="token operator">=</span> pList<span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>iOffset<span class="token operator">--</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pTmp<span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
			pTmp <span class="token operator">=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pTmp<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			List <span class="token operator">*</span>pDel <span class="token operator">=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pDel<span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>		
			<span class="token punctuation">&#125;</span>
			<span class="token operator">*</span>pData <span class="token operator">=</span> pDel<span class="token operator">-></span>data<span class="token punctuation">;</span>
			pTmp<span class="token operator">-></span>pNext <span class="token operator">=</span> pDel<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
			<span class="token function">free</span><span class="token punctuation">(</span>pDel<span class="token punctuation">)</span><span class="token punctuation">;</span>
			pDel <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"delete tail node\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				pList<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">data_t</span><span class="token punctuation">)</span>pTmp<span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">&#123;</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"delete node\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				pTmp<span class="token operator">-></span>pNext<span class="token operator">-></span>pPri <span class="token operator">=</span> pTmp<span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> TYPE_OK<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>



<h2 id="4-7销毁（头销、尾销）"><a href="#4-7销毁（头销、尾销）" class="headerlink" title="4.7销毁（头销、尾销）"></a>4.7销毁（头销、尾销）</h2><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">DestoryList</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">)</span><span class="token comment">//头销</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	List <span class="token operator">*</span>pDel <span class="token operator">=</span> pList<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
	List <span class="token operator">*</span>pTmp <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pDel<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		pTmp <span class="token operator">=</span> pDel<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
		<span class="token function">free</span><span class="token punctuation">(</span>pDel<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pDel <span class="token operator">=</span> pTmp<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">free</span><span class="token punctuation">(</span>pList<span class="token punctuation">)</span><span class="token punctuation">;</span>
	pList <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>



<h2 id="4-8显示"><a href="#4-8显示" class="headerlink" title="4.8显示"></a>4.8显示</h2><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">ShowList</span><span class="token punctuation">(</span>List <span class="token operator">*</span>pList<span class="token punctuation">,</span><span class="token keyword">int</span> iType<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>HEAD <span class="token operator">==</span> iType<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		List <span class="token operator">*</span>pTmp <span class="token operator">=</span> pList<span class="token operator">-></span>pNext<span class="token punctuation">;</span>

		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pTmp<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>pTmp<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
			pTmp <span class="token operator">=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">&#123;</span>
		List <span class="token operator">*</span>pTmp <span class="token operator">=</span> <span class="token punctuation">(</span>List <span class="token operator">*</span><span class="token punctuation">)</span>pList<span class="token operator">-></span>data<span class="token punctuation">;</span>
		
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pTmp<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>pTmp <span class="token operator">==</span> pList<span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>pTmp<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
			pTmp <span class="token operator">=</span> pTmp<span class="token operator">-></span>pPri<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>	
	<span class="token punctuation">&#125;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h1 id="5、循环链表"><a href="#5、循环链表" class="headerlink" title="5、循环链表"></a>5、循环链表</h1><h3 id="5-1-单向循环链表"><a href="#5-1-单向循环链表" class="headerlink" title="5.1 单向循环链表"></a>5.1 单向循环链表</h3><p>在单向链表的基础上，尾节点不再指向NULL，而是指向头节点从而构成循环</p>
<p>如图：</p>
<p><img src="/images/%E5%8D%95%E5%90%91%E5%BE%AA%E7%8E%AF%E9%93%BE%E8%A1%A8%E7%A4%BA%E6%84%8F%E5%9B%BE.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>特点:</strong></p>
<p>​	<em>相比单向链表最大特点就是可以从尾快速循环到头，这样从任意一结点出发都可访问到表中所有结点</em></p>
<h4 id="5-1-1-定义结构体"><a href="#5-1-1-定义结构体" class="headerlink" title="5.1.1 定义结构体"></a>5.1.1 定义结构体</h4><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">LinkedList</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> data<span class="token punctuation">;</span> <span class="token comment">// 数据域</span>
    <span class="token keyword">struct</span> <span class="token class-name">LinkedList</span> <span class="token operator">*</span>next<span class="token punctuation">;</span> <span class="token comment">// 指针域</span>
<span class="token punctuation">&#125;</span>LinkedList<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h4 id="5-1-2-创建头节点"><a href="#5-1-2-创建头节点" class="headerlink" title="5.1.2 创建头节点"></a>5.1.2 创建头节点</h4><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c">LinkedList<span class="token operator">*</span> <span class="token function">creatLinkedList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    LinkedList <span class="token operator">*</span>head <span class="token operator">=</span> <span class="token punctuation">(</span>LinkedList <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>LinkedList<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 申请链表头节点空间</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>head <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token comment">// 判空</span>
        <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    head<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 初始化头节点数据域数据</span>
    head<span class="token operator">-></span>next <span class="token operator">=</span> head<span class="token punctuation">;</span> <span class="token comment">// 使头节点指针节点指向自身</span>
    <span class="token keyword">return</span> head<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h4 id="5-1-3-插入"><a href="#5-1-3-插入" class="headerlink" title="5.1.3 插入"></a>5.1.3 插入</h4><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">insertNode</span><span class="token punctuation">(</span>LinkedList <span class="token operator">*</span>pList<span class="token punctuation">,</span><span class="token keyword">int</span> data<span class="token punctuation">,</span><span class="token keyword">int</span> iOffset<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>pList <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">||</span> iOffset <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    LinkedList <span class="token operator">*</span>pNode <span class="token operator">=</span> <span class="token punctuation">(</span>LinkedList <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>LinkedList<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 申请节点空间</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>pNode <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token comment">// 判空</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    pNode<span class="token operator">-></span>data <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>iOffset <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// 判断头插还是尾插 0为头插，非0为尾插</span>
    <span class="token punctuation">&#123;</span>
        pNode<span class="token operator">-></span>next <span class="token operator">=</span> pList<span class="token operator">-></span>next<span class="token punctuation">;</span>
        pList<span class="token operator">-></span>next <span class="token operator">=</span> pNode<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">else</span> <span class="token comment">// 尾插</span>
    <span class="token punctuation">&#123;</span>
        LinkedList <span class="token operator">*</span>tmp <span class="token operator">=</span> pList<span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>pList<span class="token operator">-></span>next <span class="token operator">!=</span> tmp<span class="token punctuation">)</span>
        <span class="token punctuation">&#123;</span>
            pList <span class="token operator">=</span> pList<span class="token operator">-></span>next<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        pList<span class="token operator">-></span>next <span class="token operator">=</span> pNode<span class="token punctuation">;</span>
        pNode<span class="token operator">-></span>next <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h4 id="5-1-4-查找"><a href="#5-1-4-查找" class="headerlink" title="5.1.4 查找"></a>5.1.4 查找</h4><h5 id="5-1-4-1-按数据查找"><a href="#5-1-4-1-按数据查找" class="headerlink" title="5.1.4.1 按数据查找"></a>5.1.4.1 按数据查找</h5><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c">bool <span class="token function">selectNodeByData</span><span class="token punctuation">(</span>LinkedList <span class="token operator">*</span>pList<span class="token punctuation">,</span><span class="token keyword">int</span> data<span class="token punctuation">)</span> <span class="token comment">// 按数据查找</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>pList <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    LinkedList <span class="token operator">*</span>tmp <span class="token operator">=</span> pList<span class="token punctuation">;</span> 
    <span class="token keyword">while</span><span class="token punctuation">(</span>tmp<span class="token operator">-></span>next <span class="token operator">!=</span> pList<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>tmp<span class="token operator">-></span>data <span class="token operator">==</span> data<span class="token punctuation">)</span>
            <span class="token keyword">return</span> true<span class="token punctuation">;</span>
        tmp <span class="token operator">=</span> tmp<span class="token operator">-></span>next<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> false<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h5 id="5-1-4-2按位置查找"><a href="#5-1-4-2按位置查找" class="headerlink" title="5.1.4.2按位置查找"></a>5.1.4.2按位置查找</h5><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">selectNodeByOffset</span><span class="token punctuation">(</span>LinkedList <span class="token operator">*</span>pList<span class="token punctuation">,</span><span class="token keyword">int</span> iOffset<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>pList <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">||</span> iOffset <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    LinkedList <span class="token operator">*</span>tmp <span class="token operator">=</span> pList<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>iOffset <span class="token operator">&amp;&amp;</span> tmp<span class="token operator">-></span>next <span class="token operator">!=</span> pList<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
       tmp <span class="token operator">=</span> tmp<span class="token operator">-></span>next<span class="token punctuation">;</span>
       iOffset<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> tmp<span class="token operator">-></span>data<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h4 id="5-1-5-更新"><a href="#5-1-5-更新" class="headerlink" title="5.1.5 更新"></a>5.1.5 更新</h4><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">updateNode</span><span class="token punctuation">(</span>LinkedList<span class="token operator">*</span> pList<span class="token punctuation">,</span><span class="token keyword">int</span> oldData<span class="token punctuation">,</span><span class="token keyword">int</span> newData<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>pList <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    LinkedList <span class="token operator">*</span>tmp <span class="token operator">=</span> pList<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>tmp<span class="token operator">-></span>next <span class="token operator">!=</span> pList<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>tmp<span class="token operator">-></span>data <span class="token operator">=</span> oldData<span class="token punctuation">)</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        tmp <span class="token operator">=</span> tmp<span class="token operator">-></span>next<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    tmp<span class="token operator">-></span>data <span class="token operator">=</span> newData<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h4 id="5-1-6-删除"><a href="#5-1-6-删除" class="headerlink" title="5.1.6 删除"></a>5.1.6 删除</h4><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">deleteNode</span><span class="token punctuation">(</span>LinkedList <span class="token operator">*</span>pList<span class="token punctuation">,</span><span class="token keyword">int</span> <span class="token operator">*</span>data<span class="token punctuation">,</span><span class="token keyword">int</span> iOffset<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>pList <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">||</span> iOffset <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    LinkedList <span class="token operator">*</span>tmp <span class="token operator">=</span> pList<span class="token punctuation">;</span>
    LinkedList <span class="token operator">*</span>pDel<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">--</span>iOffset <span class="token operator">&amp;&amp;</span> tmp<span class="token operator">-></span>next <span class="token operator">!=</span> pList<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        tmp <span class="token operator">=</span> tmp<span class="token operator">-></span>next<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    pDel <span class="token operator">=</span> tmp<span class="token operator">-></span>next<span class="token punctuation">;</span>
	tmp<span class="token operator">-></span>next <span class="token operator">=</span> pDel<span class="token operator">-></span>next<span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>pDel<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h4 id="5-1-7-销毁"><a href="#5-1-7-销毁" class="headerlink" title="5.1.7 销毁"></a>5.1.7 销毁</h4><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">destoryList</span><span class="token punctuation">(</span>LinkedList <span class="token operator">*</span>pList<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>pList <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    LinkedList <span class="token operator">*</span>pDel <span class="token operator">=</span> pList<span class="token operator">-></span>next<span class="token punctuation">;</span>
    LinkedList <span class="token operator">*</span>tmp <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>pDel<span class="token operator">-></span>next <span class="token operator">!=</span> pList<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        tmp <span class="token operator">=</span> pDel<span class="token operator">-></span>next<span class="token punctuation">;</span>
        <span class="token function">free</span><span class="token punctuation">(</span>pDel<span class="token punctuation">)</span><span class="token punctuation">;</span>
        pDel <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>pList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    pList <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h4 id="5-1-8-遍历"><a href="#5-1-8-遍历" class="headerlink" title="5.1.8 遍历"></a>5.1.8 遍历</h4><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">showList</span><span class="token punctuation">(</span>LinkedList <span class="token operator">*</span>pList<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>pList <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    LinkedList <span class="token operator">*</span>tmp <span class="token operator">=</span> pList<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>tmp<span class="token operator">-></span>next <span class="token operator">!=</span> pList<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\t"</span><span class="token punctuation">,</span>tmp<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="5-2-双向循环链表"><a href="#5-2-双向循环链表" class="headerlink" title="5.2 双向循环链表"></a>5.2 双向循环链表</h3><p>只有一个节点的时候，把头指针和尾指针都指向自己，形成一个环形，这种链表被称为<code>双向循环链表</code></p>
<p>如图所示：</p>
<p><img src="/images/%E5%8F%8C%E5%90%91%E5%BE%AA%E7%8E%AF%E9%93%BE%E8%A1%A8%E7%A4%BA%E6%84%8F%E5%9B%BE.png" srcset="/img/loading.gif" lazyload></p>
<p>双向循环链表主要分为三部分</p>
<ul>
<li>前向指针</li>
<li>后向指针</li>
<li>数据域</li>
<li>第一个节点的前向指针指向最后一个节点，最后一个节点的后向指针指向第一个节点</li>
</ul>
<h4 id="5-2-1-定义结构体"><a href="#5-2-1-定义结构体" class="headerlink" title="5.2.1 定义结构体"></a>5.2.1 定义结构体</h4><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">DLinkedList</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> data<span class="token punctuation">;</span> <span class="token comment">// 数据域</span>
    <span class="token keyword">struct</span> <span class="token class-name">DLinkedList</span><span class="token operator">*</span> next<span class="token punctuation">;</span> <span class="token comment">// 后向指针</span>
    <span class="token keyword">struct</span> <span class="token class-name">DLinkedList</span><span class="token operator">*</span> pri<span class="token punctuation">;</span> <span class="token comment">// 前向指针</span>
<span class="token punctuation">&#125;</span>DLinkedList<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h4 id="5-2-2-创建头节点"><a href="#5-2-2-创建头节点" class="headerlink" title="5.2.2 创建头节点"></a>5.2.2 创建头节点</h4><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c">DLinkedList <span class="token operator">*</span><span class="token function">createDLinkedList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	DLinkedList <span class="token operator">*</span>pList <span class="token operator">=</span> <span class="token punctuation">(</span>DLinkedList <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>DLinkedList<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList<span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    pList<span class="token operator">-></span>next <span class="token operator">=</span> pList<span class="token punctuation">;</span>
    pList<span class="token operator">-></span>pri <span class="token operator">=</span> pList<span class="token punctuation">;</span>
    pList<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> pList<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h4 id="5-2-3-插入"><a href="#5-2-3-插入" class="headerlink" title="5.2.3 插入"></a>5.2.3 插入</h4><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">insertNode</span><span class="token punctuation">(</span>DLinkedList <span class="token operator">*</span>pList<span class="token punctuation">,</span> <span class="token keyword">int</span> data<span class="token punctuation">,</span> <span class="token keyword">int</span> iOffset<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>pList <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">||</span> iOffset <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> 
    	<span class="token keyword">return</span><span class="token punctuation">;</span>
    DLinkedList <span class="token operator">*</span>pNode <span class="token operator">=</span> <span class="token punctuation">(</span>DLinkedList <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>DLinkedList<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pList<span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    pNode<span class="token operator">-></span>data <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token keyword">switch</span><span class="token punctuation">(</span>iOffset<span class="token punctuation">)</span> <span class="token comment">// -1为头插，0为尾插，别的为偏移量插入</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">case</span> <span class="token operator">-</span><span class="token number">1</span><span class="token operator">:</span>
            <span class="token punctuation">&#123;</span>
                pList<span class="token operator">-></span>next<span class="token operator">-></span>pri <span class="token operator">=</span> pNode<span class="token punctuation">;</span>
                pNode<span class="token operator">-></span>next <span class="token operator">=</span> pList<span class="token operator">-></span>next<span class="token punctuation">;</span>
                pList<span class="token operator">-></span>next <span class="token operator">=</span> pNode<span class="token punctuation">;</span>
                pNode<span class="token operator">-></span>pri <span class="token operator">=</span> pList<span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
            <span class="token punctuation">&#123;</span>
                pList<span class="token operator">-></span>pri<span class="token operator">-></span>next <span class="token operator">=</span> pNode<span class="token punctuation">;</span>
                pNode<span class="token operator">-></span>pri <span class="token operator">=</span> pList<span class="token operator">-></span>pri<span class="token punctuation">;</span>
                pNode<span class="token operator">-></span>next <span class="token operator">=</span> pList<span class="token punctuation">;</span>
                pList<span class="token operator">-></span>pri <span class="token operator">=</span> pNode<span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token punctuation">&#123;</span>
                DLinkedList <span class="token operator">*</span>tmp <span class="token operator">=</span> pList<span class="token punctuation">;</span>
                <span class="token keyword">while</span><span class="token punctuation">(</span>iOffset<span class="token operator">--</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#123;</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>tmp<span class="token operator">-></span>next <span class="token operator">==</span> pList<span class="token punctuation">)</span>
			   	       <span class="token keyword">break</span><span class="token punctuation">;</span>
                    tmp <span class="token operator">=</span> tmp<span class="token operator">-></span>next<span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>tmp<span class="token operator">-></span>next <span class="token operator">==</span> pList<span class="token punctuation">)</span>
                <span class="token punctuation">&#123;</span>
                    pList<span class="token operator">-></span>pri <span class="token operator">=</span> pNode<span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
                <span class="token keyword">else</span>
                <span class="token punctuation">&#123;</span>
                    tmp<span class="token operator">-></span>next<span class="token operator">-></span>pri <span class="token operator">=</span> pNode<span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
                pNode<span class="token operator">-></span>next <span class="token operator">=</span> tmp<span class="token operator">-></span>next<span class="token punctuation">;</span>
                tmp<span class="token operator">-></span>next <span class="token operator">=</span> pNode<span class="token punctuation">;</span>
                pNode<span class="token operator">-></span>pri <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h4 id="5-2-4-查找"><a href="#5-2-4-查找" class="headerlink" title="5.2.4 查找"></a>5.2.4 查找</h4><h5 id="5-2-4-1-按数据查找"><a href="#5-2-4-1-按数据查找" class="headerlink" title="5.2.4.1 按数据查找"></a>5.2.4.1 按数据查找</h5><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c">bool <span class="token function">searchNodeByData</span><span class="token punctuation">(</span>DLinkedList <span class="token operator">*</span>pList<span class="token punctuation">,</span> <span class="token keyword">int</span> data<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>pList <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>pList<span class="token operator">-></span>next <span class="token operator">!=</span> pList<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>pList<span class="token operator">-></span>data <span class="token operator">==</span> data<span class="token punctuation">)</span>
            <span class="token keyword">return</span> true<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> fasle<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h5 id="5-2-4-2-按位置查找"><a href="#5-2-4-2-按位置查找" class="headerlink" title="5.2.4.2 按位置查找"></a>5.2.4.2 按位置查找</h5><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c">bool <span class="token function">searchNodeByOffset</span><span class="token punctuation">(</span>DLinkedList <span class="token operator">*</span>pList<span class="token punctuation">,</span> <span class="token keyword">int</span> iOffset<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>data<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>pList <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
    	<span class="token keyword">return</span><span class="token punctuation">;</span>
    DLinkedList <span class="token operator">*</span>tmp <span class="token operator">=</span> pList<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>iOffset<span class="token operator">--</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>tmp<span class="token operator">-></span>next <span class="token operator">=</span> pList<span class="token punctuation">)</span>
            <span class="token keyword">return</span> false<span class="token punctuation">;</span>
        tmp <span class="token operator">=</span> tmp<span class="token operator">-></span>next<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
    <span class="token operator">*</span>data <span class="token operator">=</span> tmp<span class="token operator">-></span>data<span class="token punctuation">;</span>
    <span class="token keyword">return</span> true<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h4 id="5-2-5-更新"><a href="#5-2-5-更新" class="headerlink" title="5.2.5 更新"></a>5.2.5 更新</h4><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">updateNode</span><span class="token punctuation">(</span>DLinkedList <span class="token operator">*</span>pList<span class="token punctuation">,</span> <span class="token keyword">int</span> oldData<span class="token punctuation">,</span> <span class="token keyword">int</span> newData<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>pList <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    DLinkedList <span class="token operator">*</span>tmp <span class="token operator">=</span> pList<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>tmp<span class="token operator">-></span>next <span class="token operator">!=</span> pList<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>tmp<span class="token operator">-></span>data <span class="token operator">==</span> oldData<span class="token punctuation">)</span>
        <span class="token punctuation">&#123;</span>
            tmp<span class="token operator">-></span>data <span class="token operator">=</span> newData<span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        tmp <span class="token operator">=</span> tmp<span class="token operator">-></span>next<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h4 id="5-2-6-删除"><a href="#5-2-6-删除" class="headerlink" title="5.2.6 删除"></a>5.2.6 删除</h4><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">deleteNode</span><span class="token punctuation">(</span>DLinkedList <span class="token operator">*</span>pList<span class="token punctuation">,</span> <span class="token keyword">int</span> iOffset<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>pList <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> iOffset <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    DLinkedList <span class="token operator">*</span>del <span class="token operator">=</span> pList<span class="token operator">-></span>next<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span> <span class="token operator">==</span> iOffset<span class="token punctuation">)</span> <span class="token comment">// -1为头删</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>pList<span class="token operator">-></span>next <span class="token operator">!=</span> pList<span class="token punctuation">)</span>
        <span class="token punctuation">&#123;</span>
            pList<span class="token operator">-></span>next <span class="token operator">=</span> del<span class="token operator">-></span>next<span class="token punctuation">;</span>
            del<span class="token operator">-></span>next<span class="token operator">-></span>pri <span class="token operator">=</span> pList<span class="token punctuation">;</span>
            <span class="token function">free</span><span class="token punctuation">(</span>del<span class="token punctuation">)</span><span class="token punctuation">;</span>
            del <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">else</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">&#123;</span>
        DLinkedList <span class="token operator">*</span>tmp <span class="token operator">=</span> pList<span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>iOffset<span class="token operator">--</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>tmp<span class="token operator">-></span>next <span class="token operator">=</span> pList<span class="token punctuation">)</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            tmp <span class="token operator">=</span> tmp<span class="token operator">-></span>next<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        tmp<span class="token operator">-></span>next<span class="token operator">-></span>pri <span class="token operator">=</span> tmp<span class="token operator">-></span>pri<span class="token punctuation">;</span>
        tmp<span class="token operator">-></span>pri<span class="token operator">-></span>next <span class="token operator">=</span> tmp<span class="token operator">-></span>next<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h4 id="5-2-7-销毁"><a href="#5-2-7-销毁" class="headerlink" title="5.2.7 销毁"></a>5.2.7 销毁</h4><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">destoryList</span><span class="token punctuation">(</span>DLinkedList <span class="token operator">*</span>pList<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>pList <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
   	DLinkedList <span class="token operator">*</span>tmp <span class="token operator">=</span> pList<span class="token operator">-></span>next<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>tmp <span class="token operator">!=</span> pList<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        DLinkedList <span class="token operator">*</span>del <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
        tmp <span class="token operator">=</span> tmp<span class="token operator">-></span>next<span class="token punctuation">;</span>
        <span class="token function">free</span><span class="token punctuation">(</span>del<span class="token punctuation">)</span><span class="token punctuation">;</span>
        del <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>pList<span class="token punctuation">)</span><span class="token punctuation">;</span>
	pList <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h4 id="5-2-8-遍历"><a href="#5-2-8-遍历" class="headerlink" title="5.2.8 遍历"></a>5.2.8 遍历</h4><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">showList</span><span class="token punctuation">(</span>DLinkedList <span class="token operator">*</span>pList<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>pList <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    DLinkedList <span class="token operator">*</span>tmp <span class="token operator">=</span> pList<span class="token operator">-></span>next<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>tmp<span class="token operator">-></span>next <span class="token operator">!=</span> pList<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\t"</span><span class="token punctuation">,</span>tmp<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        tmp <span class="token operator">=</span> tmp<span class="token operator">-></span>next<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>



<h1 id="6、栈和队列"><a href="#6、栈和队列" class="headerlink" title="6、栈和队列"></a>6、栈和队列</h1><h2 id="6-1栈"><a href="#6-1栈" class="headerlink" title="6.1栈"></a>6.1栈</h2><h3 id="6-1-1栈的定义"><a href="#6-1-1栈的定义" class="headerlink" title="6.1.1栈的定义"></a>6.1.1栈的定义</h3><p>栈（Stack）：是只允许在一端进行插入或删除的线性表。首先栈是一种线性表，但限定这种线性表只能在某一端进行插入和删除操作。</p>
<p>栈顶（Top）：线性表允许进行插入删除的那一端。<br>栈底（Bottom）：固定的，不允许进行插入和删除的另一端。<br>空栈：不含任何元素的空表。</p>
<p>栈又称为后进先出（Last In First Out）的线性表，简称LIFO结构</p>
<h3 id="6-1-2栈的常见基本操作"><a href="#6-1-2栈的常见基本操作" class="headerlink" title="6.1.2栈的常见基本操作"></a>6.1.2栈的常见基本操作</h3><p>InitStack(&amp;S)：初始化一个空栈S。<br>StackEmpty(S)：判断一个栈是否为空，若栈为空则返回true，否则返回false。<br>Push(&amp;S, x)：进栈（栈的插入操作），若栈S未满，则将x加入使之成为新栈顶。<br>Pop(&amp;S, &amp;x)：出栈（栈的删除操作），若栈S非空，则弹出栈顶元素，并用x返回。<br>GetTop(S, &amp;x)：读栈顶元素，若栈S非空，则用x返回栈顶元素。<br>DestroyStack(&amp;S)：栈销毁，并释放S占用的存储空间（“&amp;”表示引用调用）。</p>
<h3 id="6-1-3存储结构"><a href="#6-1-3存储结构" class="headerlink" title="6.1.3存储结构"></a>6.1.3存储结构</h3><h4 id="6-1-3-1顺序存储"><a href="#6-1-3-1顺序存储" class="headerlink" title="6.1.3.1顺序存储"></a>6.1.3.1顺序存储</h4><p>采用顺序存储的栈称为顺序栈，它利用一组地址连续的存储单元存放自栈底到栈顶的数据元素，同时附设一个指针（top）指示当前栈顶元素的位置。<br>若存储栈的长度为StackSize，则栈顶位置top必须小于StackSize。当栈存在一个元素时，top等于0，因此通常把空栈的判断条件定位top等于-1。</p>
<p>存储结构体描述：</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SIZE</span> <span class="token expression"><span class="token number">5</span></span></span>
<span class="token keyword">typedef</span> <span class="token keyword">int</span> <span class="token class-name">data_t</span><span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Stack</span>
<span class="token punctuation">&#123;</span>
	<span class="token class-name">data_t</span> data<span class="token punctuation">[</span>SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> iTop<span class="token punctuation">;</span><span class="token comment">//栈顶指针</span>
	<span class="token comment">/*int icount; 计数，用于判断栈满（icount == SIZE）*/</span>
<span class="token punctuation">&#125;</span>Stack<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>顺序栈的基本算法</p>
<p>1、创建</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c">Stack <span class="token operator">*</span><span class="token function">CreateStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	Stack <span class="token operator">*</span>pStack <span class="token operator">=</span> <span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Stack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//申请栈</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pStack<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>pStack<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Stack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pStack<span class="token operator">-></span>iTop <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//栈顶置空</span>
	<span class="token keyword">return</span> pStack<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>2、销毁</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">DestroySatck</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>pStack<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pStack<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">free</span><span class="token punctuation">(</span>pStack<span class="token punctuation">)</span><span class="token punctuation">;</span>
	pStack <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>3、压栈</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">Push</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>pStack<span class="token punctuation">,</span><span class="token class-name">data_t</span> tData<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pStack <span class="token operator">||</span> pStack<span class="token operator">-></span>iTop <span class="token operator">==</span> SIZE <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	pStack<span class="token operator">-></span>iTop<span class="token operator">++</span><span class="token punctuation">;</span>	<span class="token comment">//栈顶指针后移</span>
	pStack<span class="token operator">-></span>data<span class="token punctuation">[</span>pStack<span class="token operator">-></span>iTop<span class="token punctuation">]</span> <span class="token operator">=</span> tData<span class="token punctuation">;</span><span class="token comment">//压栈</span>
	
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>pStack<span class="token operator">-></span>data<span class="token punctuation">[</span>pStack<span class="token operator">-></span>iTop<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//打印栈顶元素</span>
	<span class="token keyword">return</span> TYPE_OK<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>4、退栈</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">Pop</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>pStack<span class="token punctuation">,</span><span class="token class-name">data_t</span> <span class="token operator">*</span>pData<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pStack <span class="token operator">||</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">==</span> pStack<span class="token operator">-></span>iTop<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token operator">*</span>pData <span class="token operator">=</span> pStack<span class="token operator">-></span>data<span class="token punctuation">[</span>pStack<span class="token operator">-></span>iTop<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//带出退栈元素</span>
	pStack<span class="token operator">-></span>iTop<span class="token operator">--</span><span class="token punctuation">;</span><span class="token comment">//栈顶指针前移</span>
	<span class="token keyword">return</span> TYPE_OK<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>5、获取栈顶元素</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">GetTop</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>pStack<span class="token punctuation">,</span><span class="token class-name">data_t</span> <span class="token operator">*</span>pData<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pStack <span class="token operator">||</span> <span class="token constant">NULL</span> <span class="token operator">==</span> pData <span class="token operator">||</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">==</span> pStack<span class="token operator">-></span>iTop<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token operator">*</span>pData <span class="token operator">=</span> pStack<span class="token operator">-></span>data<span class="token punctuation">[</span>pStack<span class="token operator">-></span>iTop<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//利用栈顶指针即可</span>
	<span class="token keyword">return</span> TYPE_OK<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>6、栈空</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">IsEmpty</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>pStack<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pStack<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span> <span class="token operator">==</span> pStack<span class="token operator">-></span>iTop<span class="token punctuation">)</span><span class="token comment">//判断栈顶有无元素</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_EMPTY<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> TYPE_OK<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h4 id="6-1-3-2链式存储"><a href="#6-1-3-2链式存储" class="headerlink" title="6.1.3.2链式存储"></a>6.1.3.2链式存储</h4><p>采用链式存储的栈称为链栈，链栈的优点是便于多个栈共享存储空间和提高其效率，且不存在栈满上溢的情况。通常采用单链表实现，并规定所有操作都是在单链表的表头进行的。这里规定链栈没有头节点，Lhead指向栈顶元素。</p>
<p>对于空栈来说，链表原定义是头指针指向空，那么链栈的空其实就是top&#x3D;NULL的时候。</p>
<p>存储结构体描述：</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">int</span> <span class="token class-name">data_t</span><span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Stack</span>
<span class="token punctuation">&#123;</span>
	<span class="token class-name">data_t</span> data<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">Stack</span> <span class="token operator">*</span>pNext<span class="token punctuation">;</span>
    <span class="token comment">/*int icount; 计数，用于判断栈满（icount == SIZE）*/</span>
<span class="token punctuation">&#125;</span>Stack<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>链式栈的基本算法</p>
<p>1、创建</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c">Stack <span class="token operator">*</span><span class="token function">CreateStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	Stack <span class="token operator">*</span>pStack <span class="token operator">=</span> <span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Stack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//申请连续内存</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pStack<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>pStack<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Stack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//清空</span>

	<span class="token keyword">return</span> pStack<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>2、销毁</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">Distroy</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>pStack<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pStack<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	Stack <span class="token operator">*</span>pDel <span class="token operator">=</span> pStack<span class="token operator">-></span>pNext<span class="token punctuation">;</span><span class="token comment">//用pdel保存头节点下一个节点</span>
	Stack <span class="token operator">*</span>pTmp <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>pDel <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">//遍历</span>
	<span class="token punctuation">&#123;</span>
		pTmp <span class="token operator">=</span> pDel<span class="token operator">-></span>pNext<span class="token punctuation">;</span><span class="token comment">//pdel下一节点给临时变量，相当于接上后面的</span>
		<span class="token function">free</span><span class="token punctuation">(</span>pDel<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pDel <span class="token operator">=</span> pTmp<span class="token punctuation">;</span><span class="token comment">//临时变量给pdl，依次循环</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">free</span><span class="token punctuation">(</span>pStack<span class="token punctuation">)</span><span class="token punctuation">;</span>
	pStack <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>3、压栈</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">PushStack</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>pStack<span class="token punctuation">,</span><span class="token class-name">data_t</span> tdata<span class="token punctuation">)</span> <span class="token comment">//元素进栈</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pStack<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	Stack <span class="token operator">*</span>pNode <span class="token operator">=</span> <span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Stack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//申请节点</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pNode<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>pNode<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Stack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pNode<span class="token operator">-></span>data <span class="token operator">=</span> tdata<span class="token punctuation">;</span><span class="token comment">//节点数据位插入数据</span>

	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pStack<span class="token operator">-></span>pNext<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		pStack<span class="token operator">-></span>pNext <span class="token operator">=</span> pNode<span class="token punctuation">;</span><span class="token comment">//若只有头节点，直接插入节点</span>

		<span class="token keyword">return</span> TYPE_OK<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>	
	pNode<span class="token operator">-></span>pNext <span class="token operator">=</span>pStack<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
	pStack<span class="token operator">-></span>pNext <span class="token operator">=</span>pNode<span class="token punctuation">;</span><span class="token comment">//若还有其他节点，则需要连两条线</span>
	
	<span class="token keyword">return</span> TYPE_OK<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>4、退栈</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">PopStack</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>pStack<span class="token punctuation">,</span><span class="token class-name">data_t</span> <span class="token operator">*</span>pdata<span class="token punctuation">)</span> <span class="token comment">//元素出栈</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>pStack <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">||</span>pdata <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	Stack <span class="token operator">*</span>pDel <span class="token operator">=</span> pStack<span class="token operator">-></span>pNext<span class="token punctuation">;</span><span class="token comment">//临时变量保存头节点下一个节点</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pDel<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token operator">*</span>pdata <span class="token operator">=</span> pDel<span class="token operator">-></span>data<span class="token punctuation">;</span><span class="token comment">//带出删除节点数据位</span>
	pStack<span class="token operator">-></span>pNext <span class="token operator">=</span> pDel<span class="token operator">-></span>pNext<span class="token punctuation">;</span><span class="token comment">//头节点下节点指向被删除节点下一节点</span>
	<span class="token function">free</span><span class="token punctuation">(</span>pDel<span class="token punctuation">)</span><span class="token punctuation">;</span>
	pDel <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> TYPE_OK<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>5、获取栈顶元素</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">GetTop</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>pStack<span class="token punctuation">,</span><span class="token class-name">data_t</span> <span class="token operator">*</span>pdata<span class="token punctuation">)</span> <span class="token comment">//取栈顶元素</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>pStack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pStack<span class="token operator">-></span>pNext<span class="token punctuation">)</span><span class="token comment">//只有头节点</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token operator">*</span>pdata <span class="token operator">=</span> pStack<span class="token operator">-></span>pNext<span class="token operator">-></span>data<span class="token punctuation">;</span><span class="token comment">//头节点下一节点数据位即栈顶元素</span>
	
	<span class="token keyword">return</span> TYPE_OK<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>6、栈空</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">EmptyStack</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>pStack<span class="token punctuation">)</span><span class="token comment">//判断是否为空栈</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pStack<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_ERR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>pStack<span class="token operator">-></span>pNext <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> TYPE_EMPTY<span class="token punctuation">;</span><span class="token comment">//栈不空</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> TYPE_OK<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h2 id="6-2队列"><a href="#6-2队列" class="headerlink" title="6.2队列"></a>6.2队列</h2><h3 id="6-2-1队列定义"><a href="#6-2-1队列定义" class="headerlink" title="6.2.1队列定义"></a>6.2.1队列定义</h3><p>队列（queue）是只允许在一端进行插入操作，而在另一端进行删除操作的线性表。<br>队列是一种先进先出（First In First Out）的线性表，简称FIFO。允许插入的一端称为队尾，允许删除的一端称为队头。</p>
<p>队头（Front）：允许删除的一端，又称队首。<br>队尾（Rear）：允许插入的一端。<br>空队列：不包含任何元素的空表。</p>
<h3 id="6-2-2队列的常见基本操作"><a href="#6-2-2队列的常见基本操作" class="headerlink" title="6.2.2队列的常见基本操作"></a>6.2.2队列的常见基本操作</h3><p>InitQueue(&amp;Q)：初始化队列，构造一个空队列Q。<br>QueueEmpty(Q)：判队列空，若队列Q为空返回true，否则返回false。<br>EnQueue(&amp;Q, x)：入队，若队列Q未满，将x加入，使之成为新的队尾。<br>DeQueue(&amp;Q, &amp;x)：出队，若队列Q非空，删除队头元素，并用x返回。<br>GetHead(Q, &amp;x)：读队头元素，若队列Q非空，则将队头元素赋值给x。</p>
<h3 id="6-2-3存储结构"><a href="#6-2-3存储结构" class="headerlink" title="6.2.3存储结构"></a>6.2.3存储结构</h3><p>队列的顺序实现是指分配一块连续的存储单元存放队列中的元素，并附设两个指针：队头指针 front指向队头元素，队尾指针 rear 指向队尾元素的下一个位置。</p>
<h4 id="6-2-3-1顺序存储"><a href="#6-2-3-1顺序存储" class="headerlink" title="6.2.3.1顺序存储"></a>6.2.3.1顺序存储</h4><p>初始状态（队空条件）：Q-&gt;front &#x3D;&#x3D; Q-&gt;rear &#x3D;&#x3D; 0。<br>进队操作：队不满时，先送值到队尾元素，再将队尾指针加1。<br>出队操作：队不空时，先取队头元素值，再将队头指针加1。</p>
<p>存储结构体描述：</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">int</span> <span class="token class-name">data_t</span><span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Queue</span>
<span class="token punctuation">&#123;</span>
	<span class="token class-name">data_t</span> data<span class="token punctuation">[</span>SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> front<span class="token punctuation">,</span>rear<span class="token punctuation">;</span><span class="token comment">//队头、队尾</span>
<span class="token punctuation">&#125;</span>Queue<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><img src="/images/%E9%A1%BA%E5%BA%8F%E9%98%9F%E5%88%97.jpg" srcset="/img/loading.gif" lazyload></p>
<p>如图，队列出现“上溢出”，然而却又不是真正的溢出，所以是一种“假溢出”。</p>
<h4 id="6-3-2循环队列"><a href="#6-3-2循环队列" class="headerlink" title="6.3.2循环队列"></a>6.3.2循环队列</h4><p>解决假溢出的方法就是后面满了，就再从头开始，也就是头尾相接的循环。我们把队列的这种头尾相接的顺序存储结构称为循环队列。<br>当队首指针Q-&gt;front &#x3D; MAXSIZE-1后，再前进一个位置就自动到0，这可以利用除法取余运算（%）来实现。</p>
<p>初始时：Q-&gt;front &#x3D; Q-&gt;rear&#x3D;0。<br>队首指针进1：Q-&gt;front &#x3D; (Q-&gt;front + 1) % MAXSIZE。<br>队尾指针进1：Q-&gt;rear &#x3D; (Q-&gt;rear + 1) % MAXSIZE。<br>队列长度：(Q-&gt;rear - Q-&gt;front + MAXSIZE) % MAXSIZE。<br>出队入队时，指针都按照顺时针方向前进1，如下图所示：<br><img src="/images/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%97.jpg" srcset="/img/loading.gif" lazyload></p>
<p>显然，队空的条件是 Q-&gt;front &#x3D;&#x3D; Q-&gt;rear 。若入队元素的速度快于出队元素的速度，则队尾指针很快就会赶上队首指针，如图( d1 ）所示，此时可以看出队满时也有 Q -&gt;front &#x3D;&#x3D; Q -&gt; rear 。<br>为了区分队空还是队满的情况，有三种处理方式：<br>（1）牺牲一个单元来区分队空和队满，入队时少用一个队列单元，这是种较为普遍的做法，约定以“队头指针在队尾指针的下一位置作为队满的标志”，如图 ( d2 ）所示。</p>
<p>队满条件： (Q-&gt;rear + 1)%Maxsize &#x3D;&#x3D; Q-&gt;front<br>队空条件仍： Q-&gt;front &#x3D;&#x3D; Q-&gt;rear<br>队列中元素的个数： (Q-&gt;rear - Q -&gt;front + Maxsize)% Maxsize<br>（2）类型中增设表示元素个数的数据成员。这样，队空的条件为 Q-&gt;size &#x3D;&#x3D; O ；队满的条件为 Q-&gt;size &#x3D;&#x3D; Maxsize 。这两种情况都有 Q-&gt;front &#x3D;&#x3D; Q-&gt;rear<br>（3）类型中增设tag 数据成员，以区分是队满还是队空。tag 等于0时，若因删除导致 Q-&gt;front &#x3D;&#x3D; Q-&gt;rear ，则为队空；tag 等于 1 时，若因插入导致 Q -&gt;front &#x3D;&#x3D; Q-&gt;rear ，则为队满。</p>
<p>我们重点讨论第一种方法</p>
<p>存储结构体描述：</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">int</span> <span class="token class-name">data_t</span><span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Queue</span>
<span class="token punctuation">&#123;</span>
	<span class="token class-name">data_t</span> data<span class="token punctuation">[</span>SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> front<span class="token punctuation">;</span>  <span class="token comment">//头指针</span>
    <span class="token keyword">int</span> rear<span class="token punctuation">;</span>   <span class="token comment">//尾指针,若队列不空，指向队列尾元素的下一个位置</span>
<span class="token punctuation">&#125;</span>SqQueue<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>1、创建</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c">SqQueue <span class="token operator">*</span><span class="token function">createQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	SqQueue <span class="token operator">*</span>pQueue <span class="token operator">=</span> <span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Queue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>pQueue <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">bzero</span><span class="token punctuation">(</span>pQueue<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Queue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> pQueue<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>2、判断队空</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c">bool <span class="token function">isEmpty</span><span class="token punctuation">(</span>SqQueue Q<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>Q<span class="token punctuation">.</span>rear <span class="token operator">==</span> Q<span class="token punctuation">.</span>front<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> true<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>3、入队</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">/*若队列未满，则插入元素e为Q新的队尾元素*/</span>
<span class="token keyword">int</span> <span class="token function">EnQueue</span><span class="token punctuation">(</span>SqQueue <span class="token operator">*</span>Q<span class="token punctuation">,</span> <span class="token class-name">data_t</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Q<span class="token operator">-></span>rear <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> MAXSIZE <span class="token operator">==</span> Q<span class="token operator">-></span>front<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> ERROR<span class="token punctuation">;</span>   <span class="token comment">//队满</span>
    <span class="token punctuation">&#125;</span>
    Q<span class="token operator">-></span>data<span class="token punctuation">[</span>Q<span class="token operator">-></span>rear<span class="token punctuation">]</span> <span class="token operator">=</span> e<span class="token punctuation">;</span>   <span class="token comment">//将元素e赋值给队尾</span>
    Q<span class="token operator">-></span>rear <span class="token operator">=</span> <span class="token punctuation">(</span>Q<span class="token operator">-></span>rear <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> MAXSIZE<span class="token punctuation">;</span>  <span class="token comment">//rear指针向后移一位置，若到最后则转到数组头部</span>
    <span class="token keyword">return</span> OK<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>4、出队</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">/*若队列不空，则删除Q中队头元素，用e返回其值*/</span>
<span class="token keyword">int</span> <span class="token function">DeQueue</span><span class="token punctuation">(</span>SqQueue <span class="token operator">*</span>Q<span class="token punctuation">,</span> <span class="token class-name">data_t</span> <span class="token operator">*</span>e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>Q<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> REEOR<span class="token punctuation">;</span>   <span class="token comment">//队列空的判断</span>
    <span class="token punctuation">&#125;</span>
    <span class="token operator">*</span>e <span class="token operator">=</span> Q<span class="token operator">-></span>data<span class="token punctuation">[</span>Q<span class="token operator">-></span>front<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//将队头元素赋值给e</span>
    Q<span class="token operator">-></span>front <span class="token operator">=</span> <span class="token punctuation">(</span>Q<span class="token operator">-></span>front <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> MAXSIZE<span class="token punctuation">;</span>    <span class="token comment">//front指针向后移一位置，若到最后则转到数组头部</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>5、求循环队列长度</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">/*返回Q的元素个数，也就是队列的当前长度*/</span>
<span class="token keyword">int</span> <span class="token function">QueueLength</span><span class="token punctuation">(</span>SqQueue Q<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>Q<span class="token punctuation">.</span>rear <span class="token operator">-</span> Q<span class="token punctuation">.</span>front <span class="token operator">+</span> MAXSIZE<span class="token punctuation">)</span> <span class="token operator">%</span> MAXSIZE<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>6、判断队满</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c">bool <span class="token function">isEmpty</span><span class="token punctuation">(</span>SqQueue Q<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>（rear<span class="token operator">+</span><span class="token number">1</span>）<span class="token operator">%</span>maxsize <span class="token operator">==</span> front<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token comment">/*rear移动一步的偏移位置（相对起始位置0），记作n。如果n=front，表示队列已满。*/</span>
        <span class="token keyword">return</span> true<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>7、销毁</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">DesQueue</span><span class="token punctuation">(</span> SqQueue <span class="token operator">*</span>Q <span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token function">free</span><span class="token punctuation">(</span> Q<span class="token operator">-></span>base <span class="token punctuation">)</span> <span class="token punctuation">;</span>
    Q<span class="token operator">-></span>base <span class="token operator">=</span> <span class="token constant">NULL</span> <span class="token punctuation">;</span>
    Q<span class="token operator">-></span>front <span class="token operator">=</span> Q<span class="token operator">-></span>rear <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>



<h4 id="6-3-3链式存储"><a href="#6-3-3链式存储" class="headerlink" title="6.3.3链式存储"></a>6.3.3链式存储</h4><p>队列的链式存储结构表示为链队列，它实际上是一个同时带有队头指针和队尾指针的单链表，只不过它只能尾进头出而已。</p>
<p>空队列时，front和real都指向头结点。</p>
<p><img src="/images/%E9%93%BE%E9%98%9F%E5%88%97.jpg" srcset="/img/loading.gif" lazyload></p>
<p>链式队列的基本算法</p>
<p>存储结构体描述：</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">/*链式队列结点*/</span>
<span class="token keyword">typedef</span> <span class="token keyword">int</span> <span class="token class-name">data_t</span><span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
	<span class="token class-name">data_t</span> data<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">LinkNode</span> <span class="token operator">*</span>next<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>LinkNode<span class="token punctuation">;</span>
<span class="token comment">/*链式队列*/</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">&#123;</span>
	LinkNode <span class="token operator">*</span>front<span class="token punctuation">,</span> <span class="token operator">*</span>rear<span class="token punctuation">;</span>	<span class="token comment">//队列的队头和队尾指针</span>
<span class="token punctuation">&#125;</span>LinkQueue<span class="token punctuation">;</span>
<span class="token comment">/*当Q->front == NULL 并且 Q->rear == NULL 时，链队列为空。*/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>1、创建</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c">Queue <span class="token operator">*</span><span class="token function">CreateQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	Queue <span class="token operator">*</span>pTmp <span class="token operator">=</span> <span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Queue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pTmp<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>pTmp<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Queue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">return</span> pTmp<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>2、判断队空</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c">bool <span class="token function">isEmpty</span><span class="token punctuation">(</span>SqQueue Q<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>Q<span class="token operator">-></span>front <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> Q<span class="token operator">-></span>rear <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> true<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>3、入队</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c">Status <span class="token function">EnQueue</span><span class="token punctuation">(</span>LinkQueue <span class="token operator">*</span>Q<span class="token punctuation">,</span> <span class="token class-name">data_t</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	LinkNode s <span class="token operator">=</span> <span class="token punctuation">(</span>LinkNode<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>LinkNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	s<span class="token operator">-></span>data <span class="token operator">=</span> e<span class="token punctuation">;</span>
	s<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	Q<span class="token operator">-></span>rear<span class="token operator">-></span>next <span class="token operator">=</span> s<span class="token punctuation">;</span>	<span class="token comment">//把拥有元素e新结点s赋值给原队尾结点的后继</span>
	Q<span class="token operator">-></span>rear <span class="token operator">=</span> s<span class="token punctuation">;</span>	<span class="token comment">//把当前的s设置为新的队尾结点</span>
	<span class="token keyword">return</span> OK<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>4、出队</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">/*若队列不空，删除Q的队头元素，用e返回其值，并返回OK，否则返回ERROR*/</span>
Status <span class="token function">DeQueue</span><span class="token punctuation">(</span>LinkQueue <span class="token operator">*</span>Q<span class="token punctuation">,</span> <span class="token class-name">data_t</span> <span class="token operator">*</span>e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	LinkNode p<span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>Q<span class="token operator">-></span>front <span class="token operator">==</span> Q<span class="token operator">-></span>rear<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> ERROR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	p <span class="token operator">=</span> Q<span class="token operator">-></span>front<span class="token operator">-></span>next<span class="token punctuation">;</span>	<span class="token comment">//将欲删除的队头结点暂存给p</span>
	<span class="token operator">*</span>e <span class="token operator">=</span> p<span class="token operator">-></span>data<span class="token punctuation">;</span>	<span class="token comment">//将欲删除的队头结点的值赋值给e</span>
	Q<span class="token operator">-></span>front<span class="token operator">-></span>next <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>	<span class="token comment">//将原队头结点的后继赋值给头结点后继</span>
	<span class="token comment">//若删除的队头是队尾，则删除后将rear指向头结点</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>Q<span class="token operator">-></span>rear <span class="token operator">==</span> p<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>	
		Q<span class="token operator">-></span>rear <span class="token operator">=</span> Q<span class="token operator">-></span>front<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> OK<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>5、求循环队列长度</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">/*返回Q的元素个数，也就是队列的当前长度*/</span>
<span class="token keyword">int</span> <span class="token function">QueueLength</span><span class="token punctuation">(</span>SqQueue Q<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>Q<span class="token punctuation">.</span>rear <span class="token operator">-</span> Q<span class="token punctuation">.</span>front <span class="token operator">+</span> MAXSIZE<span class="token punctuation">)</span> <span class="token operator">%</span> MAXSIZE<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>6、销毁</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">DestoryQueue</span><span class="token punctuation">(</span>SqQueue <span class="token operator">*</span>Q<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token comment">//销毁队列Q </span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>Q<span class="token operator">-></span>front<span class="token punctuation">)</span>   <span class="token comment">//头指针不为空</span>
	<span class="token punctuation">&#123;</span>
		Q<span class="token operator">-></span>rear <span class="token operator">=</span> Q<span class="token operator">-></span>front<span class="token operator">-></span>next<span class="token punctuation">;</span>   <span class="token comment">//将待删除元素的直接后继赋值给尾指针</span>
		<span class="token function">free</span><span class="token punctuation">(</span>Q<span class="token operator">-></span>front<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//删除头指针指向的节点</span>
		Q<span class="token operator">-></span>front <span class="token operator">=</span> Q<span class="token operator">-></span>rear<span class="token punctuation">;</span>    <span class="token comment">//将头指针重新指向下一个待删除元素的队头结点。</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>



<h3 id="6-2-4双端队列"><a href="#6-2-4双端队列" class="headerlink" title="6.2.4双端队列"></a>6.2.4双端队列</h3><p>1、定义<br>双端队列是指允许两端都可以进行入队和出队操作的队列，如下图所示。其元素的逻辑结构仍是线性结构。将队列的两端分别称为前端和后端，两端都可以入队和出队。</p>
<p><img src="/images/%E5%8F%8C%E7%AB%AF%E9%98%9F%E5%88%97.jpg" srcset="/img/loading.gif" lazyload></p>
<p>在双端队列进队时，前端进的元素排列在队列中后端进的元素的前面，后端进的元素排列在队列中前端进的元素的后面。在双端队列出队时，无论是前端还是后端出队，先出的元素排列在后出的元素的前面。</p>
<p>2、特殊的双端队列<br>在实际使用中，根据使用场景的不同，存在某些特殊的双端队列。</p>
<p>输出受限的双端队列：允许在一端进行插入和删除， 但在另一端只允许插入的双端队列称为输出受限的双端队列，如上图所示。</p>
<p>输入受限的双端队列：允许在一端进行插入和删除，但在另一端只允许删除的双端队列称为输入受限的双端队列，如上图所示。若限定双端队列从某个端点插入的元素只能从该端点删除，则该双端队列就蜕变为两个栈底相邻接的栈。</p>
<h2 id="6-3队列与栈区别"><a href="#6-3队列与栈区别" class="headerlink" title="6.3队列与栈区别"></a>6.3队列与栈区别</h2><p>（1）操作的名称不同。队列的插入称为入队，队列的删除称为出队。栈的插入称为进栈，栈的删除称为出栈。</p>
<p>（2）可操作的方式不同。队列是在队尾入队，队头出队，即两边都可操作。而栈的进栈和出栈都是在栈顶进行的，无法对栈底直接进行操作。</p>
<p>（3）操作的方法不同。队列是先进先出（FIFO），即队列的修改是依先进先出的原则进行的。新来的成员总是加入队尾（不能从中间插入），每次离开的成员总是队列头上（不允许中途离队）。而栈为后进先出（LIFO）,即每次删除（出栈）的总是当前栈中最新的元素，即最后插入（进栈）的元素，而最先插入的被放在栈的底部，要到最后才能删除。</p>
<h1 id="7、数与二叉树"><a href="#7、数与二叉树" class="headerlink" title="7、数与二叉树"></a>7、数与二叉树</h1><h2 id="7-1树"><a href="#7-1树" class="headerlink" title="7.1树"></a>7.1树</h2><p>树（Tree）是n（n≥0）个节点的有限集合T，他满足两个条件：</p>
<p>①   有且仅有一个特定的称为根（Root）的节点：</p>
<p>②   其余的节点可以分为m（m≥0）个互不相交的有限集合T1、T2、………….、TM，具中每一个集合又是一棵树，并称为其根的子树。</p>
<p>表示方法：树形表示法、目录表示法</p>
<p>概念：</p>
<p>①   一个节点的子树的个数称为该节点的度数，一棵树的度数是指该树中节点的最大度数。</p>
<p>度数为零的节点称为树叶或终端节点，度数不为零的节点称为分支节点，除根节点外的分支节点称为内部节点。</p>
<p>②   一个节点的直接后继节点称为该节点的子节点，该节点称为直接后继节点的父节点，同一节点的各个子节点之间称为兄弟节点。一棵树的根节点没有父节点，叶节点没有子节点。</p>
<p>③   一个节点系列k1，k2，… …，ki，ki+1，……，kj，并满足ki是ki+1的父节点，就称为一条从k1到kj的路径，路径的长度为j-1，即路径中的边数。路径中前面的节点是后面节点的祖先，后面节点是前面节点的子孙。</p>
<p>④   节点的层数等于父节点的层数加一，根节点的层数定义为一。树中节点层数的最大值称为该树的高度或深度。</p>
<p>⑤   若树中每个节点的各个子树的排列为从左到右，不能交换，即兄弟之间是有序的，则该树称为有序树。一般的树是有序树。</p>
<p>⑥   m(m≥0) 棵互不相交的树的集合称为森林。树去掉根节点就成为森林。森林加上一个新的根节点就成为树。</p>
<h2 id="7-2二叉树"><a href="#7-2二叉树" class="headerlink" title="7.2二叉树"></a>7.2二叉树</h2><h3 id="7-2-1二叉树的定义："><a href="#7-2-1二叉树的定义：" class="headerlink" title="7.2.1二叉树的定义："></a>7.2.1二叉树的定义：</h3><p>二叉树（Binary Tree）是n(n≥0）个节点的有限集合，它或者是空集（n&#x3D;0），或者是由一个根节点以及两棵互不相交的、 分別称为左子村和右子树的二叉树组成。二叉树与普通有序树不同，二叉树严格区分左孩子和右孩子，即使只有一个子节点也要区分左右。</p>
<h3 id="7-2-2二叉树的性质："><a href="#7-2-2二叉树的性质：" class="headerlink" title="7.2.2二叉树的性质："></a>7.2.2二叉树的性质：</h3><p>①   二叉树第i(i≥1) 层上的节点最多为2i-1个。</p>
<p>②   深度为k(k≥1) 的二叉树最主有2k-1个节点。</p>
<p>③   在任意一棵二叉树中，树叶的数目比度数为2的节点的数目多一。</p>
<p>总节点数为各类节点之和：n &#x3D; no +n1 + n2</p>
<p>总节点数为所有子节点数加一：n &#x3D; n1+ 2*n2 + 1</p>
<p>故得：n0 &#x3D; n2 +1</p>
<h3 id="7-2-3满二叉树："><a href="#7-2-3满二叉树：" class="headerlink" title="7.2.3满二叉树："></a>7.2.3满二叉树：</h3><p>深度为k(k≥1) 吋有2k-1个节点的二叉树。</p>
<h3 id="7-2-4完全二叉树："><a href="#7-2-4完全二叉树：" class="headerlink" title="7.2.4完全二叉树："></a>7.2.4完全二叉树：</h3><p>①   只有最下面两层有度数小于2的节点，且最下面一层的叶节点集中在最左边的若干位置上。</p>
<p>②   具有n个节点的完全二叉树的深度为：(log2 n) + 1或log2(n+1)。</p>
<h3 id="7-2-5二叉树的遍历"><a href="#7-2-5二叉树的遍历" class="headerlink" title="7.2.5二叉树的遍历"></a>7.2.5二叉树的遍历</h3><p>①   遍历：沿某条搜索路径周游二叉树，对树中的每一个节点访问一次且仅访问一次。</p>
<p>②   遍历是任何类型均有的操作，对线性结构而言，只有一条搜索路径。而二叉树是非线性</p>
<p>结构，每个结点有两个后继，则存在如何遍历即按什么样的搜索路径进行遍历的问题。</p>
<p>由于二叉树的递归性质，遍历算法也是递归的。</p>
<p>先序：先访问树根，再访问左子树，最后访问右子树。</p>
<p>中序：先访问左子树，再访问树根，最后访问右子树。</p>
<p>后序：先访问左子树，再访问右子树，最后访问树根。</p>
<p><img src="/images/%E4%BA%8C%E5%8F%89%E6%A0%91%E9%81%8D%E5%8E%86.jpg" srcset="/img/loading.gif" lazyload></p>
<h4 id="-1"><a href="#-1" class="headerlink" title=""></a></h4><h4 id="二叉树插入、遍历代码-二叉树查找、删除、更新节点步骤"><a href="#二叉树插入、遍历代码-二叉树查找、删除、更新节点步骤" class="headerlink" title="二叉树插入、遍历代码  二叉树查找、删除、更新节点步骤"></a>二叉树插入、遍历代码  二叉树查找、删除、更新节点步骤</h4><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">/*main.c*/</span>
 
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"tree.h"</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token class-name">data_t</span> arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">45</span><span class="token punctuation">,</span><span class="token number">27</span><span class="token punctuation">,</span><span class="token number">86</span><span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">,</span><span class="token number">33</span><span class="token punctuation">,</span><span class="token number">77</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">66</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
	BinTree <span class="token operator">*</span>pRoot <span class="token operator">=</span> <span class="token function">CreateTree</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pRoot<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ok\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">/*PreOrder(pRoot);
	printf("\n");
	InOrder(pRoot);
	printf("\n");
	PostOrder(pRoot);
	printf("\n");
	NonPreOrder(pRoot);
	printf("\n");*/</span>
	<span class="token comment">//NonInOrder(pRoot);</span>
	<span class="token comment">//NonPostOrder(pRoot);</span>
	<span class="token function">NoOrder</span><span class="token punctuation">(</span>pRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">FreeNode</span><span class="token punctuation">(</span>pRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">/*tree.h*/</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">_TREE_H_</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_TREE_H_</span></span>
<span class="token keyword">typedef</span> <span class="token keyword">int</span> <span class="token class-name">data_t</span><span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">BinTree</span>
<span class="token punctuation">&#123;</span>
	<span class="token class-name">data_t</span> data<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">BinTree</span> <span class="token operator">*</span>pL<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">BinTree</span> <span class="token operator">*</span>pR<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>BinTree<span class="token punctuation">;</span>
BinTree <span class="token operator">*</span><span class="token function">CreateTree</span><span class="token punctuation">(</span><span class="token class-name">data_t</span> <span class="token operator">*</span>pArr<span class="token punctuation">,</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> iCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">PreOrder</span><span class="token punctuation">(</span>BinTree <span class="token operator">*</span>pRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">InOrder</span><span class="token punctuation">(</span>BinTree <span class="token operator">*</span>pRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">PostOrder</span><span class="token punctuation">(</span>BinTree <span class="token operator">*</span>pRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">FreeNode</span><span class="token punctuation">(</span>BinTree <span class="token operator">*</span>pRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">NonPreOrder</span><span class="token punctuation">(</span>BinTree <span class="token operator">*</span>pRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">NonInOrder</span><span class="token punctuation">(</span>BinTree <span class="token operator">*</span>pRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">NonPostOrder</span><span class="token punctuation">(</span>BinTree <span class="token operator">*</span>pRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">NoOrder</span><span class="token punctuation">(</span>BinTree <span class="token operator">*</span>pRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>

<span class="token comment">/*tree.c*/</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"tree.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"stack.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"queue.h"</span></span>

<span class="token comment">//创建节点</span>
BinTree <span class="token operator">*</span><span class="token function">CreateNode</span><span class="token punctuation">(</span><span class="token class-name">data_t</span> tData<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	BinTree <span class="token operator">*</span>pNode <span class="token operator">=</span> <span class="token punctuation">(</span>BinTree <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>BinTree<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pNode<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>pNode<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>BinTree<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pNode<span class="token operator">-></span>data <span class="token operator">=</span> tData<span class="token punctuation">;</span>

	<span class="token keyword">return</span> pNode<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">//创建树</span>
BinTree <span class="token operator">*</span><span class="token function">CreateTree</span><span class="token punctuation">(</span><span class="token class-name">data_t</span> <span class="token operator">*</span>pArr<span class="token punctuation">,</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> iCount<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pArr <span class="token operator">||</span> <span class="token number">0</span> <span class="token operator">==</span> iCount<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token comment">//create root</span>
	BinTree <span class="token operator">*</span>pRoot <span class="token operator">=</span> <span class="token function">CreateNode</span><span class="token punctuation">(</span>pArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pRoot<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token comment">//create child and insert to tree</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> iCount<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token comment">//create child node</span>
		BinTree <span class="token operator">*</span>pNode <span class="token operator">=</span> <span class="token function">CreateNode</span><span class="token punctuation">(</span>pArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pNode<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token comment">//insert to tree</span>
		BinTree <span class="token operator">*</span>pRootTmp <span class="token operator">=</span> pRoot<span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>pArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> pRootTmp<span class="token operator">-></span>data<span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pRootTmp<span class="token operator">-></span>pR<span class="token punctuation">)</span>
				<span class="token punctuation">&#123;</span>
					pRootTmp<span class="token operator">-></span>pR <span class="token operator">=</span> pNode<span class="token punctuation">;</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token punctuation">&#125;</span>
				<span class="token keyword">else</span>
				<span class="token punctuation">&#123;</span>
					pRootTmp  <span class="token operator">=</span> pRootTmp<span class="token operator">-></span>pR<span class="token punctuation">;</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pRootTmp<span class="token operator">-></span>pL<span class="token punctuation">)</span>
				<span class="token punctuation">&#123;</span>
					pRootTmp<span class="token operator">-></span>pL <span class="token operator">=</span> pNode<span class="token punctuation">;</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token punctuation">&#125;</span>
				<span class="token keyword">else</span>
				<span class="token punctuation">&#123;</span>
					pRootTmp  <span class="token operator">=</span> pRootTmp<span class="token operator">-></span>pL<span class="token punctuation">;</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> pRoot<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>


<span class="token comment">//递归先序遍历</span>
<span class="token keyword">void</span> <span class="token function">PreOrder</span><span class="token punctuation">(</span>BinTree <span class="token operator">*</span>pRoot<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pRoot<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//空树返回</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>pRoot<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//先访问当前结点</span>
	<span class="token function">PreOrder</span><span class="token punctuation">(</span>pRoot<span class="token operator">-></span>pL<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//再访问左子树</span>
	<span class="token function">PreOrder</span><span class="token punctuation">(</span>pRoot<span class="token operator">-></span>pR<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//再访问右子树</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//递归中序遍历</span>
<span class="token keyword">void</span> <span class="token function">InOrder</span><span class="token punctuation">(</span>BinTree <span class="token operator">*</span>pRoot<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pRoot<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">InOrder</span><span class="token punctuation">(</span>pRoot<span class="token operator">-></span>pL<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>pRoot<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">InOrder</span><span class="token punctuation">(</span>pRoot<span class="token operator">-></span>pR<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//递归后序遍历</span>
<span class="token keyword">void</span> <span class="token function">PostOrder</span><span class="token punctuation">(</span>BinTree <span class="token operator">*</span>pRoot<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pRoot<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">PostOrder</span><span class="token punctuation">(</span>pRoot<span class="token operator">-></span>pL<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">PostOrder</span><span class="token punctuation">(</span>pRoot<span class="token operator">-></span>pR<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>pRoot<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>


<span class="token comment">//后序遍历--销毁</span>
<span class="token keyword">void</span> <span class="token function">FreeNode</span><span class="token punctuation">(</span>BinTree <span class="token operator">*</span>pRoot<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pRoot<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">FreeNode</span><span class="token punctuation">(</span>pRoot<span class="token operator">-></span>pL<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">FreeNode</span><span class="token punctuation">(</span>pRoot<span class="token operator">-></span>pR<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">free</span><span class="token punctuation">(</span>pRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>


<span class="token comment">//非递归先序遍历</span>
<span class="token keyword">void</span> <span class="token function">NonPreOrder</span><span class="token punctuation">(</span>BinTree <span class="token operator">*</span>pRoot<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pRoot<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	Stack <span class="token operator">*</span>pStack <span class="token operator">=</span> <span class="token function">CreateStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pStack<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>	
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">int</span> iRet <span class="token operator">=</span> <span class="token function">Push</span><span class="token punctuation">(</span>pStack<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token class-name">data_t</span><span class="token punctuation">)</span>pRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>TYPE_OK <span class="token operator">!=</span> iRet<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>	
	<span class="token punctuation">&#125;</span>
	BinTree <span class="token operator">*</span>pTmp <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token class-name">data_t</span> tData <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>TYPE_OK <span class="token operator">==</span> <span class="token function">IsEmpty</span><span class="token punctuation">(</span>pStack<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>TYPE_OK <span class="token operator">!=</span> <span class="token function">Pop</span><span class="token punctuation">(</span>pStack<span class="token punctuation">,</span><span class="token operator">&amp;</span>tData<span class="token punctuation">)</span><span class="token punctuation">)</span>	
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		pTmp <span class="token operator">=</span> <span class="token punctuation">(</span>BinTree <span class="token operator">*</span><span class="token punctuation">)</span>tData<span class="token punctuation">;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>pTmp<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pTmp<span class="token operator">-></span>pR<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>TYPE_OK <span class="token operator">!=</span> <span class="token function">Push</span><span class="token punctuation">(</span>pStack<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token class-name">data_t</span><span class="token punctuation">)</span><span class="token punctuation">(</span>pTmp<span class="token operator">-></span>pR<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>	
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pTmp<span class="token operator">-></span>pL<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>TYPE_OK <span class="token operator">!=</span> <span class="token function">Push</span><span class="token punctuation">(</span>pStack<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token class-name">data_t</span><span class="token punctuation">)</span><span class="token punctuation">(</span>pTmp<span class="token operator">-></span>pL<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>	
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">DestroySatck</span><span class="token punctuation">(</span>pStack<span class="token punctuation">)</span><span class="token punctuation">;</span>
	pStack <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//非递归中序遍历</span>
<span class="token keyword">void</span> <span class="token function">NonInOrder</span><span class="token punctuation">(</span>BinTree <span class="token operator">*</span>pRoot<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pRoot<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	Stack <span class="token operator">*</span>pStack <span class="token operator">=</span> <span class="token function">CreateStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pStack<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>	
	<span class="token punctuation">&#125;</span>
	BinTree <span class="token operator">*</span>pTmp <span class="token operator">=</span> pRoot<span class="token operator">-></span>pL<span class="token punctuation">;</span>

	<span class="token keyword">int</span> iRet <span class="token operator">=</span> <span class="token function">Push</span><span class="token punctuation">(</span>pStack<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token class-name">data_t</span><span class="token punctuation">)</span>pRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>TYPE_OK <span class="token operator">!=</span> iRet<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>	
	<span class="token punctuation">&#125;</span>

	<span class="token class-name">data_t</span> tData <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pTmp <span class="token operator">||</span> TYPE_OK <span class="token operator">==</span> <span class="token function">IsEmpty</span><span class="token punctuation">(</span>pStack<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pTmp<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>TYPE_OK <span class="token operator">!=</span> <span class="token function">Push</span><span class="token punctuation">(</span>pStack<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token class-name">data_t</span><span class="token punctuation">)</span>pTmp<span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
			pTmp <span class="token operator">=</span> pTmp<span class="token operator">-></span>pL<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>TYPE_OK <span class="token operator">!=</span> <span class="token function">Pop</span><span class="token punctuation">(</span>pStack<span class="token punctuation">,</span><span class="token operator">&amp;</span>tData<span class="token punctuation">)</span><span class="token punctuation">)</span>	
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		pTmp <span class="token operator">=</span> <span class="token punctuation">(</span>BinTree <span class="token operator">*</span><span class="token punctuation">)</span>tData<span class="token punctuation">;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>pTmp<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		pTmp <span class="token operator">=</span> pTmp<span class="token operator">-></span>pR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">DestroySatck</span><span class="token punctuation">(</span>pStack<span class="token punctuation">)</span><span class="token punctuation">;</span>
	pStack <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//非递归后序遍历</span>
<span class="token keyword">void</span> <span class="token function">NonPostOrder</span><span class="token punctuation">(</span>BinTree <span class="token operator">*</span>pRoot<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pRoot<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	Stack <span class="token operator">*</span>pStack <span class="token operator">=</span> <span class="token function">CreateStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pStack<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>	
	<span class="token punctuation">&#125;</span>
	BinTree <span class="token operator">*</span>pTmp <span class="token operator">=</span> pRoot<span class="token punctuation">;</span>
	BinTree <span class="token operator">*</span>pPre <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token class-name">data_t</span> tData <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pTmp <span class="token operator">||</span> TYPE_OK <span class="token operator">==</span> <span class="token function">IsEmpty</span><span class="token punctuation">(</span>pStack<span class="token punctuation">)</span><span class="token punctuation">)</span>	
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pTmp<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>TYPE_OK <span class="token operator">!=</span> <span class="token function">Push</span><span class="token punctuation">(</span>pStack<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token class-name">data_t</span><span class="token punctuation">)</span>pTmp<span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
			pTmp <span class="token operator">=</span> pTmp<span class="token operator">-></span>pL<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>TYPE_OK <span class="token operator">!=</span> <span class="token function">GetTop</span><span class="token punctuation">(</span>pStack<span class="token punctuation">,</span><span class="token operator">&amp;</span>tData<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		pTmp <span class="token operator">=</span> <span class="token punctuation">(</span>BinTree <span class="token operator">*</span><span class="token punctuation">)</span>tData<span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pTmp<span class="token operator">-></span>pR <span class="token operator">||</span> pTmp<span class="token operator">-></span>pR <span class="token operator">==</span> pPre<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>TYPE_OK <span class="token operator">!=</span> <span class="token function">Pop</span><span class="token punctuation">(</span>pStack<span class="token punctuation">,</span><span class="token operator">&amp;</span>tData<span class="token punctuation">)</span><span class="token punctuation">)</span>	
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>pTmp<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
			pPre <span class="token operator">=</span> pTmp<span class="token punctuation">;</span>
			pTmp <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">&#123;</span>
			pTmp <span class="token operator">=</span> pTmp<span class="token operator">-></span>pR<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">DestroySatck</span><span class="token punctuation">(</span>pStack<span class="token punctuation">)</span><span class="token punctuation">;</span>
	pStack <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//层次遍历</span>
<span class="token keyword">void</span> <span class="token function">NoOrder</span><span class="token punctuation">(</span>BinTree <span class="token operator">*</span>pRoot<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pRoot<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token comment">//create queue</span>
	Queue <span class="token operator">*</span>pQueue <span class="token operator">=</span> <span class="token function">CreateQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pQueue<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token comment">//dequeue root</span>
	<span class="token keyword">int</span> iRet <span class="token operator">=</span> <span class="token function">EnQueue</span><span class="token punctuation">(</span>pQueue<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token class-name">data_t</span><span class="token punctuation">)</span>pRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>TYPE_OK <span class="token operator">!=</span> iRet<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token class-name">data_t</span> tData <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>TYPE_OK <span class="token operator">==</span> <span class="token function">Empty</span><span class="token punctuation">(</span>pQueue<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		iRet <span class="token operator">=</span> <span class="token function">DeQueue</span><span class="token punctuation">(</span>pQueue<span class="token punctuation">,</span><span class="token operator">&amp;</span>tData<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>TYPE_OK <span class="token operator">!=</span> iRet<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		BinTree <span class="token operator">*</span>pTmp <span class="token operator">=</span> <span class="token punctuation">(</span>BinTree <span class="token operator">*</span><span class="token punctuation">)</span>tData<span class="token punctuation">;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>pTmp<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pTmp<span class="token operator">-></span>pL<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			iRet <span class="token operator">=</span> <span class="token function">EnQueue</span><span class="token punctuation">(</span>pQueue<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token class-name">data_t</span><span class="token punctuation">)</span><span class="token punctuation">(</span>pTmp<span class="token operator">-></span>pL<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>TYPE_OK <span class="token operator">!=</span> iRet<span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pTmp<span class="token operator">-></span>pR<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			iRet <span class="token operator">=</span> <span class="token function">EnQueue</span><span class="token punctuation">(</span>pQueue<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token class-name">data_t</span><span class="token punctuation">)</span><span class="token punctuation">(</span>pTmp<span class="token operator">-></span>pR<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>TYPE_OK <span class="token operator">!=</span> iRet<span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">DestroyQueue</span><span class="token punctuation">(</span>pQueue<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>



<h4 id="中缀表达式"><a href="#中缀表达式" class="headerlink" title="中缀表达式"></a>中缀表达式</h4><p><img src="/images/%E4%B8%AD%E7%BC%80%E8%A1%A8%E8%BE%BE%E5%BC%8F-1676106167660.jpg" srcset="/img/loading.gif" lazyload></p>
<p>规律：根据中缀表达式还原二叉树，应该保证一个表达式只能包含三部分：左操作数、右操作数、运算符，其中运算符是作为该小二叉树的根节点，左操作数作为该小二叉树的左子树，石操作数作为该小二叉树的右子树。</p>
<h2 id="7-3赫夫曼树"><a href="#7-3赫夫曼树" class="headerlink" title="7.3赫夫曼树"></a>7.3赫夫曼树</h2><p>赫夫曼树判定以及构建赫夫曼树</p>
<p>​       赫夫曼树：又称最优数，是带权路径长度最短的树。</p>
<p>​       从树中一个结点到另外一个结点的分支构成一条路径，分支的数目称为路径的长度。树的路径长度是指从树根到每个结点的路径长度之和。</p>
<p>​       结点的带权路径长度指的是从树根到该结点的路径长度和结点上权的乘积。树的带权路径长度是指所有叶子节点的带权路径长度之和，记作WPL。WPL最小的二叉树就是最优二叉树，又称为赫夫曼树。</p>
<p><img src="/images/%E8%B5%AB%E5%A4%AB%E6%9B%BC%E6%A0%91.jpg" srcset="/img/loading.gif" lazyload></p>
<h1 id="8、图"><a href="#8、图" class="headerlink" title="8、图"></a>8、图</h1><h2 id="1-、什么是图？"><a href="#1-、什么是图？" class="headerlink" title="1 、什么是图？"></a>1 、什么是图？</h2><p><img src="/images/%E5%9B%BE.jpg" srcset="/img/loading.gif" lazyload></p>
<p>图是一种非线性的数据结构，表示多对多的关系 由节点和边组成                                                                                              </p>
<h2 id="2、图的分类"><a href="#2、图的分类" class="headerlink" title="2、图的分类"></a>2、图的分类</h2><p>无向图（无指向）、有向图（有指向，例图1）等                                 </p>
<p>三、图的存储结构    </p>
<p>邻接矩阵（用二维数组存储点和边的关系）</p>
<p>邻接表等（用顺序和链式结合存储）</p>
<h2 id="3、图的遍历"><a href="#3、图的遍历" class="headerlink" title="3、图的遍历"></a>3、图的遍历</h2><h3 id="深度优先遍历、广度优先遍历"><a href="#深度优先遍历、广度优先遍历" class="headerlink" title="深度优先遍历、广度优先遍历"></a>深度优先遍历、广度优先遍历</h3><p>例题1，什么是度？什么是出度、入度？                             </p>
<p>图的度就是有多少条边（线段）连接在这个点上。</p>
<p>入度：就是有箭头的边指向这个节点 </p>
<p>出度：就是这个节点的边指向别的节点</p>
<p>无向图是不区分入度和出度的，存在关系  度&#x2F;2&#x3D;出度&#x3D;入度</p>
<p>有向图严格区分出度和入度，存在关系    度&#x3D;出度+入度                                                                                                                                                                                                                                                            </p>
<p>例题2，说一下广度优先搜索和深度优先搜索算法顺序 ？     </p>
<p>1.深度优先搜索算法类似树的先序遍历、尽可能“深”的搜索一个图。 设初始时，图中各顶点均未被访问，从图中某顶点（设为V0）出发，访问V0,然后搜索V0的一个邻接点V1，若V1未被访问，则访问之，再搜索V1的一个邻接点（深度优先）…………。若某顶点的邻接点全部访问完毕，则回溯到它的上一顶点，然后再从此顶点又按深度优先的方法搜索下去，…….，直到能访问的顶点都访问完毕为止。     </p>
<p>2.广度优先搜索算法类似树的层序遍历。初始时，图中各顶点均未被访问，从图中某顶点（设V0)出发，访问V0，并依次访问V0的各邻接点（广度优先）。然后，分别从这些被访问过的顶点出发，仍然按照广度优先的策略搜索其他顶点，…….，直到能访问的顶点都访问完毕为止。</p>
<p>为控制广度优先的正确搜索，要用到队列技术，即访问完一个顶点后，让该顶点的序号进队。然后取相应队头（出队），考察访问过的顶点的各邻接点，将未访问过的邻接点访问后再依次进队，…….，直到队空为止。 </p>
<h1 id="9、算法"><a href="#9、算法" class="headerlink" title="9、算法"></a>9、算法</h1><p>数据结构 + 算法 &#x3D; 程序 </p>
<h2 id="9-1-算法评判标准："><a href="#9-1-算法评判标准：" class="headerlink" title="9.1 算法评判标准："></a>9.1 算法评判标准：</h2><p>（1）消耗时间的多少。<br>（2）消耗存储空间的多少。<br>（3）容易理解、容易编程和调试、容易维护。<br>（4）问题的规模：输入数据量的大小，用n来表示。<br>（5）算法的时间复杂度：算法消耗时间，它是问题规模的函数T（n）。</p>
<h2 id="9-2-算法的时间复杂度："><a href="#9-2-算法的时间复杂度：" class="headerlink" title="9.2 算法的时间复杂度："></a>9.2 算法的时间复杂度：</h2><p>定义为算法中可执行语句的频度之和，记为T（n），T（n）是算法所需时间的一种估计，其中n为问题的规模（或大小、体积）。</p>
<p>时间复杂度计算</p>
<p><img src="/images/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E8%AE%A1%E7%AE%97.jpg" srcset="/img/loading.gif" lazyload></p>
<p>时间复杂度比较</p>
<p><img src="/images/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%AF%94%E8%BE%83.jpg" srcset="/img/loading.gif" lazyload></p>
<h2 id="9-3算法的空间复杂度："><a href="#9-3算法的空间复杂度：" class="headerlink" title="9.3算法的空间复杂度："></a>9.3算法的空间复杂度：</h2><p>算法对应问题的体积（或规模）为n，执行算法所占存储空间的量级为D（n），则D（n）为算法的空间复杂度。</p>
<h2 id="9-4好的算法通常是："><a href="#9-4好的算法通常是：" class="headerlink" title="9.4好的算法通常是："></a>9.4好的算法通常是：</h2><p>（1）算法对应的程序所耗时间少；<br>（2）算法对应的程序所耗存储空间少；<br>（3）算法结构性好、易读、易移植和调试等等。</p>
<h2 id="9-5哈希表"><a href="#9-5哈希表" class="headerlink" title="9.5哈希表"></a>9.5哈希表</h2><h3 id="9-5-1核心思想"><a href="#9-5-1核心思想" class="headerlink" title="9.5.1核心思想"></a>9.5.1核心思想</h3><p>1.建立一个数据的记录与其存储地址的唯一对应关系，保证我们的每一条数据记录都有唯一的地址与其对应。</p>
<p>2.建表与查找的统一。即——查找的过程依赖于我们建表的过程。</p>
<h3 id="9-5-2哈希算法"><a href="#9-5-2哈希算法" class="headerlink" title="9.5.2哈希算法"></a>9.5.2哈希算法</h3><h4 id="直接地址法，平方取中法，叠加法，保留除数法"><a href="#直接地址法，平方取中法，叠加法，保留除数法" class="headerlink" title="直接地址法，平方取中法，叠加法，保留除数法"></a>直接地址法，平方取中法，叠加法，保留除数法</h4><p><strong>直接地址法</strong>：此方法是取key的某个线性函数为Hash函数，即令:</p>
<p>H(key)&#x3D;a*key+b</p>
<p>其中，a、b为常数，此时称H(key)为直接Hash函数或自身函数。</p>
<p>特点:直接地址法产生Hash函数时，要求key集与地址集的大小相同，所以不同的key之间无冲突现象发生。使用直接地址法选取Hash函数受到很大限制，因为key的取值范围一般远大于表的地址空间。</p>
<p><strong>平方取中法</strong></p>
<p>当取KEY中某些为HASH地址而不能使记录均匀分布时，根据数学原理，取(key)²中的某些位可能会比较理想,所以平方取中法中，令:</p>
<p>H(key)&#x3D;(key²l ~ l+r)</p>
<p>即取(key)²中从左数第L位到第L+R位为选取的Hash函数，R具体多大，给定的存储而定。</p>
<p><img src="/images/%E5%93%88%E5%B8%8C%E5%9B%BE1.jpg" srcset="/img/loading.gif" lazyload></p>
<p>令H(key)&#x3D;(key)² 3~ 5  l&#x3D;3、r&#x3D;2。（key）²的随机性比key要好得多，从而使冲突现象减少。<br>**叠加法 **<br>将key分割成位数相同的几部分最后一部分位数可以不同），然后取各部分的叠加值作为<br>H(key)。该方法又分为“移位叠加”和“间界叠加”，前者是将分割后的每部分低位对齐相加;<br>后者是沿分割线来回折叠、对齐相加。</p>
<p>例、设图书记录：(ISBN，书名，作者，种类，出版目期……），其中ISBN为图书的国际标谁编号，它是带分隔符的10进制数，取ISBN为key。<br>当图书种类少于10000时，地址空间取0000~9999，用叠加法构造值为4位的Hash函数。<br>例如某图书的ISB1&#x3D;7-04-005265-2，从低位起，每4位分割。</p>
<p><img src="/images/%E5%93%88%E5%B8%8C%E5%9B%BE2.jpg" srcset="/img/loading.gif" lazyload></p>
<p><strong>保留除数法</strong><br>又称质数除余法，设Hash表空问长度为m，选取一个不大于m的最大质数p，令:<br>H(key)&#x3D;key%p<br>例如：m&#x3D;8  16  32  64  128  256  512  1024….<br>p&#x3D;7   13  31  61  127  251  503  1019….<br>为何选取p为不大于n的最大质数呢？举例说明。<br>例8设记录的key集合k&#x3D;(28，35，63，77，105.……)，若选取p&#x3D;21&#x3D;3*7（包括质数因子7），有：<br>key:  28  35   63   77   105 ..<br>H(key)&#x3D;key%21: 7   14   0    14    0<br>使得包含质数因子7的key都可能被映象到相同的单元，冲突现象严重。若取p&#x3D;19（质数），同样对上面给定的key集合k，有：<br>key: 28 35 63 77 105<br>H(key)&#x3D;key%19:9 16 6 1 10<br>H(key)的随机度就好多了。</p>
<h4 id="处理冲突的方法："><a href="#处理冲突的方法：" class="headerlink" title="处理冲突的方法："></a>处理冲突的方法：</h4><p><strong>开放地址法 链地址法开放地址法</strong><br>        当发生冲突时，在H(key)的前后找一个空闲单元来存放冲突的记录，即在H(key)的基础上获取下一地址：<br>Hi&#x3D;(H(key)+di) %m<br>其中m为表长，％还算是保证Hi落在[0，m-1]区间；di为地址增量。d的取法有多种：<br>(1) di&#x3D;1, 2, 3, …… （m-1）称为线性探查法；<br>(2) di&#x3D;12, -12, 22, -22, …… ——称为二次探查法。<br>式（1)、(②)表示：第1认发生冲突时，地址增量dl取1或12；再冲突时，d2取2或-12，…… ,依此类推。<br><strong>链地址法</strong><br>发生冲突时，将各冲突记录链在一起，即同义词的记录存于同一链表中。<br>设H（key）取值范围（值域）为[0,m-1],建立头指针向量HP[m]，HP<a href="0%E2%89%A4i%E2%89%A4m-1">i</a>初值为空。凡H（key）&#x3D;i的记录都炼入头指针为HP[i]的链表。</p>
<p><img src="/images/%E9%93%BE%E5%9C%B0%E5%9D%80%E6%B3%95-1676106340259.jpg" srcset="/img/loading.gif" lazyload></p>
<p><strong>链地址法应用实例:保存用户的账号密码</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">/*hash.h*/</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">_HASH_H_</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_HASH_H_</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">HASH_SIZE_1</span> <span class="token expression"><span class="token number">1000</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">HASH_SIZE_2</span> <span class="token expression"><span class="token number">100</span> </span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">STR_LEN</span>	 <span class="token expression"><span class="token number">20</span></span></span>

<span class="token keyword">enum</span> <span class="token class-name">ERR_TYPE</span>
<span class="token punctuation">&#123;</span>
	ERR_OK <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
	ERR_ERROR
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">UserInfo</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">char</span> strName<span class="token punctuation">[</span>STR_LEN<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> strPwd<span class="token punctuation">[</span>STR_LEN<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span> UserInfo<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Node</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">struct</span> <span class="token class-name">UserInfo</span> stInfo<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">Node</span> <span class="token operator">*</span>pNext<span class="token punctuation">;</span> 
<span class="token punctuation">&#125;</span> Node<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">HashTable</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">struct</span> <span class="token class-name">Node</span> <span class="token operator">*</span>table2<span class="token punctuation">[</span>HASH_SIZE_2<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span> HashTable<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Hash</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">struct</span> <span class="token class-name">HashTable</span> <span class="token operator">*</span>table1<span class="token punctuation">[</span>HASH_SIZE_1<span class="token punctuation">]</span><span class="token punctuation">;</span>	
<span class="token punctuation">&#125;</span> Hash<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">CreateHash</span><span class="token punctuation">(</span>Hash <span class="token operator">*</span><span class="token operator">*</span>pHash<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">DestoryHash</span><span class="token punctuation">(</span>Hash <span class="token operator">*</span>pHash<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">InsertItem</span><span class="token punctuation">(</span>Hash <span class="token operator">*</span>pHash<span class="token punctuation">,</span> UserInfo stInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">ShowHash</span><span class="token punctuation">(</span>Hash <span class="token operator">*</span>pHash<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">Search</span><span class="token punctuation">(</span>Hash <span class="token operator">*</span>pHash<span class="token punctuation">,</span>UserInfo stInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">Update</span><span class="token punctuation">(</span>Hash <span class="token operator">*</span>pHash<span class="token punctuation">,</span>UserInfo stInfo<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>new_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">DeleteItem</span><span class="token punctuation">(</span>Hash <span class="token operator">*</span>pHash<span class="token punctuation">,</span> UserInfo stInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">//_HASH_H_</span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">/*hash.c*/</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"hash.h"</span></span>

<span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">GetHashKey</span><span class="token punctuation">(</span>UserInfo stUser<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>pKey1<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>pKey2<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">int</span> iNameLen <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>stUser<span class="token punctuation">.</span>strName<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> iPwdLen <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>stUser<span class="token punctuation">.</span>strPwd<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pKey1 <span class="token operator">||</span> <span class="token constant">NULL</span> <span class="token operator">==</span> pKey2 <span class="token operator">||</span> <span class="token number">0</span> <span class="token operator">==</span> iNameLen
	   <span class="token operator">||</span> <span class="token number">0</span> <span class="token operator">==</span> iPwdLen<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> ERR_ERROR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">int</span> iCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> iNameLen<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		iCount <span class="token operator">+=</span> stUser<span class="token punctuation">.</span>strName<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> iPwdLen<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		iCount <span class="token operator">+=</span> stUser<span class="token punctuation">.</span>strPwd<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">int</span> iKey1 <span class="token operator">=</span> iCount <span class="token operator">%</span> HASH_SIZE_1<span class="token punctuation">;</span>
	<span class="token keyword">int</span> iKey2 <span class="token operator">=</span> <span class="token punctuation">(</span>iCount <span class="token operator">/</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token operator">%</span> HASH_SIZE_2<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>iKey1 <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> iKey2 <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> ERR_ERROR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token operator">*</span>pKey1 <span class="token operator">=</span> iKey1<span class="token punctuation">;</span>
	<span class="token operator">*</span>pKey2 <span class="token operator">=</span> iKey2<span class="token punctuation">;</span>
	<span class="token keyword">return</span> ERR_OK<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">/*
* function 	: CreateHash
* input		: Hash **pHash
* output	: Hash **pHash
* return 	: enum ERR_type
* author	: 
*/</span>
<span class="token keyword">int</span> <span class="token function">CreateHash</span><span class="token punctuation">(</span>Hash <span class="token operator">*</span><span class="token operator">*</span>pHash<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token comment">//malloc hash1 memory</span>
	Hash <span class="token operator">*</span>pTmp <span class="token operator">=</span> <span class="token punctuation">(</span>Hash <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Hash<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pTmp<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> ERR_ERROR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>pTmp<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Hash<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//malloc hash2 memory</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> HASH_SIZE_1<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		HashTable <span class="token operator">*</span>pTmp2 <span class="token operator">=</span> <span class="token punctuation">(</span>HashTable <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">malloc</span> <span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>HashTable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pTmp2<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">goto</span> MALLOC_HASH_2_ERR<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token function">memset</span><span class="token punctuation">(</span>pTmp2<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>HashTable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pTmp<span class="token operator">-></span>table1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> pTmp2<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>

	<span class="token operator">*</span>pHash <span class="token operator">=</span> pTmp<span class="token punctuation">;</span>
	<span class="token keyword">return</span> ERR_OK<span class="token punctuation">;</span>

MALLOC_HASH_2_ERR<span class="token operator">:</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> HASH_SIZE_1<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pTmp<span class="token operator">-></span>table1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">continue</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token function">free</span><span class="token punctuation">(</span>pTmp<span class="token operator">-></span>table1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pTmp<span class="token operator">-></span>table1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">free</span><span class="token punctuation">(</span>pTmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> ERR_ERROR<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">DestoryHash</span><span class="token punctuation">(</span>Hash <span class="token operator">*</span>pHash<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pHash<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>	
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> HASH_SIZE_1<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pHash<span class="token operator">-></span>table1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">continue</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		HashTable <span class="token operator">*</span>pTable <span class="token operator">=</span> pHash<span class="token operator">-></span>table1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> HASH_SIZE_2<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			Node <span class="token operator">*</span>pDel <span class="token operator">=</span> pTable<span class="token operator">-></span>table2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pDel<span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">continue</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
			Node <span class="token operator">*</span>pTmp <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
			<span class="token keyword">while</span><span class="token punctuation">(</span>pDel <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				pTmp <span class="token operator">=</span> pDel<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
				<span class="token function">free</span><span class="token punctuation">(</span>pDel<span class="token punctuation">)</span><span class="token punctuation">;</span>
				pDel <span class="token operator">=</span> pTmp<span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span>	
		<span class="token function">free</span><span class="token punctuation">(</span>pHash<span class="token operator">-></span>table1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pHash<span class="token operator">-></span>table1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">free</span><span class="token punctuation">(</span>pHash<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">int</span> <span class="token function">InsertItem</span><span class="token punctuation">(</span>Hash <span class="token operator">*</span>pHash<span class="token punctuation">,</span> UserInfo stInfo<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pHash <span class="token operator">||</span> <span class="token number">0</span> <span class="token operator">==</span> <span class="token function">strlen</span><span class="token punctuation">(</span>stInfo<span class="token punctuation">.</span>strName<span class="token punctuation">)</span>
	   <span class="token operator">||</span> <span class="token number">0</span> <span class="token operator">==</span> <span class="token function">strlen</span><span class="token punctuation">(</span>stInfo<span class="token punctuation">.</span>strPwd<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> ERR_ERROR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>

	<span class="token comment">//create hash node</span>
	Node <span class="token operator">*</span>pNode <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pNode<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> ERR_ERROR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>pNode<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pNode<span class="token operator">-></span>stInfo <span class="token operator">=</span> stInfo<span class="token punctuation">;</span>
	pNode<span class="token operator">-></span>pNext <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	
	<span class="token keyword">int</span> iKey1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>	
	<span class="token keyword">int</span> iKey2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> iRet <span class="token operator">=</span> <span class="token function">GetHashKey</span><span class="token punctuation">(</span>stInfo<span class="token punctuation">,</span> <span class="token operator">&amp;</span>iKey1<span class="token punctuation">,</span> <span class="token operator">&amp;</span>iKey2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>ERR_OK <span class="token operator">!=</span> iRet<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token function">free</span><span class="token punctuation">(</span>pNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> iRet<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d\r\n"</span><span class="token punctuation">,</span> iKey1<span class="token punctuation">,</span> iKey2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token comment">//insert</span>
	HashTable <span class="token operator">*</span>pTable <span class="token operator">=</span> pHash<span class="token operator">-></span>table1<span class="token punctuation">[</span>iKey1<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pTable<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token function">free</span><span class="token punctuation">(</span>pNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> ERR_ERROR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	pNode<span class="token operator">-></span>pNext <span class="token operator">=</span> pTable<span class="token operator">-></span>table2<span class="token punctuation">[</span>iKey2<span class="token punctuation">]</span><span class="token punctuation">;</span>
	pTable<span class="token operator">-></span>table2<span class="token punctuation">[</span>iKey2<span class="token punctuation">]</span> <span class="token operator">=</span> pNode<span class="token punctuation">;</span>
	<span class="token keyword">return</span> ERR_OK<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">ShowHash</span><span class="token punctuation">(</span>Hash <span class="token operator">*</span>pHash<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pHash<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> HASH_SIZE_1<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pHash<span class="token operator">-></span>table1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
				<span class="token keyword">continue</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		HashTable <span class="token operator">*</span>pTable <span class="token operator">=</span> pHash<span class="token operator">-></span>table1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> HASH_SIZE_2<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			Node <span class="token operator">*</span>pTmp <span class="token operator">=</span> pTable<span class="token operator">-></span>table2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pTmp<span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
					<span class="token keyword">continue</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
			<span class="token keyword">while</span><span class="token punctuation">(</span>pTmp <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"name %s, pwd  %s\r\n"</span>
					<span class="token punctuation">,</span> pTmp<span class="token operator">-></span>stInfo<span class="token punctuation">.</span>strName
					<span class="token punctuation">,</span> pTmp<span class="token operator">-></span>stInfo<span class="token punctuation">.</span>strPwd<span class="token punctuation">)</span><span class="token punctuation">;</span>
				pTmp <span class="token operator">=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">;</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">int</span> <span class="token function">Search</span><span class="token punctuation">(</span>Hash <span class="token operator">*</span>pHash<span class="token punctuation">,</span>UserInfo stInfo<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pHash<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> ERR_ERROR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	
	<span class="token keyword">int</span> iKey1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>	
	<span class="token keyword">int</span> iKey2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> iRet <span class="token operator">=</span> <span class="token function">GetHashKey</span><span class="token punctuation">(</span>stInfo<span class="token punctuation">,</span> <span class="token operator">&amp;</span>iKey1<span class="token punctuation">,</span> <span class="token operator">&amp;</span>iKey2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>ERR_OK <span class="token operator">!=</span> iRet<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> iRet<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	
	HashTable <span class="token operator">*</span>pTable <span class="token operator">=</span> pHash<span class="token operator">-></span>table1<span class="token punctuation">[</span>iKey1<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pTable<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> ERR_ERROR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	Node <span class="token operator">*</span>pTmp <span class="token operator">=</span> pTable<span class="token operator">-></span>table2<span class="token punctuation">[</span>iKey2<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pTmp<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">==</span> <span class="token function">strcmp</span><span class="token punctuation">(</span>stInfo<span class="token punctuation">.</span>strName<span class="token punctuation">,</span> pTmp<span class="token operator">-></span>stInfo<span class="token punctuation">.</span>strName <span class="token punctuation">)</span> <span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
				<span class="token keyword">return</span> ERR_OK<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		pTmp <span class="token operator">=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> ERR_ERROR<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">int</span> <span class="token function">Update</span><span class="token punctuation">(</span>Hash <span class="token operator">*</span>pHash<span class="token punctuation">,</span>UserInfo stInfo<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>new_name<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pHash<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> ERR_ERROR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">int</span> iKey1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> iKey2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> iRet <span class="token operator">=</span> <span class="token function">GetHashKey</span><span class="token punctuation">(</span>stInfo<span class="token punctuation">,</span> <span class="token operator">&amp;</span>iKey1<span class="token punctuation">,</span> <span class="token operator">&amp;</span>iKey2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>ERR_OK <span class="token operator">!=</span> iRet<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> iRet<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	HashTable <span class="token operator">*</span>pTable <span class="token operator">=</span> pHash<span class="token operator">-></span>table1<span class="token punctuation">[</span>iKey1<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pTable<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> ERR_ERROR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	Node <span class="token operator">*</span>pTmp <span class="token operator">=</span> pTable<span class="token operator">-></span>table2<span class="token punctuation">[</span>iKey2<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token comment">//first node need to update</span>
	<span class="token keyword">int</span> iFindFlag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	Node <span class="token operator">*</span>pFind <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">==</span> <span class="token function">strcmp</span><span class="token punctuation">(</span>pTmp<span class="token operator">-></span>stInfo<span class="token punctuation">.</span>strName<span class="token punctuation">,</span> stInfo<span class="token punctuation">.</span>strName<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		iFindFlag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
		pFind <span class="token operator">=</span> pTmp<span class="token punctuation">;</span>
		pTable<span class="token operator">-></span>table2<span class="token punctuation">[</span>iKey2<span class="token punctuation">]</span> <span class="token operator">=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
		pFind<span class="token operator">-></span>pNext <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">&#123;</span>
        	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">)</span>
        	<span class="token punctuation">&#123;</span>
				pFind <span class="token operator">=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">==</span> <span class="token function">strcmp</span><span class="token punctuation">(</span>stInfo<span class="token punctuation">.</span>strName<span class="token punctuation">,</span> pFind<span class="token operator">-></span>stInfo<span class="token punctuation">.</span>strName <span class="token punctuation">)</span> <span class="token punctuation">)</span>
				<span class="token punctuation">&#123;</span>
					iFindFlag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
					pTmp<span class="token operator">-></span>pNext <span class="token operator">=</span> pFind<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
					pFind<span class="token operator">-></span>pNext <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token punctuation">&#125;</span>
				pTmp <span class="token operator">=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
        	<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pFind <span class="token operator">&amp;&amp;</span> <span class="token number">1</span> <span class="token operator">==</span> iFindFlag<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		UserInfo stTmp <span class="token operator">=</span> pFind<span class="token operator">-></span>stInfo<span class="token punctuation">;</span>
		<span class="token function">strcpy</span><span class="token punctuation">(</span>stTmp<span class="token punctuation">.</span>strName<span class="token punctuation">,</span> new_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	 	<span class="token function">InsertItem</span><span class="token punctuation">(</span>pHash<span class="token punctuation">,</span> stTmp<span class="token punctuation">)</span><span class="token punctuation">;</span>	
		<span class="token function">free</span><span class="token punctuation">(</span>pFind<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pFind <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> ERR_OK<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> ERR_ERROR<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">int</span> <span class="token function">DeleteItem</span><span class="token punctuation">(</span>Hash <span class="token operator">*</span>pHash<span class="token punctuation">,</span> UserInfo stInfo<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pHash<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> ERR_ERROR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">int</span> iKey1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> iKey2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> iRet <span class="token operator">=</span> <span class="token function">GetHashKey</span><span class="token punctuation">(</span>stInfo<span class="token punctuation">,</span> <span class="token operator">&amp;</span>iKey1<span class="token punctuation">,</span> <span class="token operator">&amp;</span>iKey2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>ERR_OK <span class="token operator">!=</span> iRet<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> iRet<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	HashTable <span class="token operator">*</span>pTable <span class="token operator">=</span> pHash<span class="token operator">-></span>table1<span class="token punctuation">[</span>iKey1<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> pTable<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> ERR_ERROR<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	Node <span class="token operator">*</span>pTmp <span class="token operator">=</span> pTable<span class="token operator">-></span>table2<span class="token punctuation">[</span>iKey2<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">==</span> <span class="token function">strcmp</span><span class="token punctuation">(</span>pTmp<span class="token operator">-></span>stInfo<span class="token punctuation">.</span>strName<span class="token punctuation">,</span> stInfo<span class="token punctuation">.</span>strName<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		pTable<span class="token operator">-></span>table2<span class="token punctuation">[</span>iKey2<span class="token punctuation">]</span> <span class="token operator">=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
		<span class="token function">free</span><span class="token punctuation">(</span>pTmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pTmp <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> ERR_OK<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">&#123;</span>
		Node <span class="token operator">*</span>pDel <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			pDel <span class="token operator">=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">==</span> <span class="token function">strcmp</span><span class="token punctuation">(</span>stInfo<span class="token punctuation">.</span>strName<span class="token punctuation">,</span> pDel<span class="token operator">-></span>stInfo<span class="token punctuation">.</span>strName <span class="token punctuation">)</span> <span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				pTmp<span class="token operator">-></span>pNext <span class="token operator">=</span> pDel<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
				<span class="token function">free</span><span class="token punctuation">(</span>pDel<span class="token punctuation">)</span><span class="token punctuation">;</span>
				pDel <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> ERR_OK<span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
			pTmp <span class="token operator">=</span> pTmp<span class="token operator">-></span>pNext<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> ERR_ERROR<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">/*main.c*/</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"hash.h"</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	Hash <span class="token operator">*</span>pHash <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> iRet <span class="token operator">=</span> <span class="token function">CreateHash</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pHash<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>ERR_OK <span class="token operator">!=</span> iRet<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"create hash ok\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*	int i = 0;
	for (i = 0; i &lt; 1000; i++)
	&#123;
		printf("%p  ", pHash->table1[i]);
		if (i % 10 == 0)
		printf("\r\n");
	&#125;*/</span>
	UserInfo stTest<span class="token punctuation">;</span>
        <span class="token function">memset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>stTest<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>UserInfo<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">strcpy</span><span class="token punctuation">(</span>stTest<span class="token punctuation">.</span>strName<span class="token punctuation">,</span> <span class="token string">"hehe"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">strcpy</span><span class="token punctuation">(</span>stTest<span class="token punctuation">.</span>strPwd<span class="token punctuation">,</span> <span class="token string">"xixi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        iRet <span class="token operator">=</span> <span class="token function">InsertItem</span><span class="token punctuation">(</span>pHash<span class="token punctuation">,</span> stTest<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">ShowHash</span><span class="token punctuation">(</span>pHash<span class="token punctuation">)</span><span class="token punctuation">;</span>
	iRet <span class="token operator">=</span> <span class="token function">Search</span><span class="token punctuation">(</span>pHash<span class="token punctuation">,</span> stTest<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"search %d\r\n"</span><span class="token punctuation">,</span> iRet<span class="token punctuation">)</span><span class="token punctuation">;</span>
	iRet <span class="token operator">=</span> <span class="token function">Update</span><span class="token punctuation">(</span>pHash<span class="token punctuation">,</span> stTest<span class="token punctuation">,</span> <span class="token string">"aaa"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"update %d\r\n"</span><span class="token punctuation">,</span> iRet<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">ShowHash</span><span class="token punctuation">(</span>pHash<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">strcpy</span><span class="token punctuation">(</span>stTest<span class="token punctuation">.</span>strName<span class="token punctuation">,</span> <span class="token string">"aaa"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	iRet <span class="token operator">=</span> <span class="token function">Search</span><span class="token punctuation">(</span>pHash<span class="token punctuation">,</span> stTest<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"search %d\r\n"</span><span class="token punctuation">,</span> iRet<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">DestoryHash</span><span class="token punctuation">(</span>pHash<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h2 id="9-6八大排序算法"><a href="#9-6八大排序算法" class="headerlink" title="9.6八大排序算法"></a>9.6八大排序算法</h2><p><strong>1、掌握算法思想、排序过程、算法时间复杂度、应用场景、算法实现：</strong><br> <strong>直接插入排序、希尔排序、简单选择排序、冒泡排序、快速排序</strong><br><strong>堆排序、归并排序、基数排序</strong></p>
<p>排序有内部排序和外部排序，内部排序是数据记录在内存中进行排序，而外部排序是因排序的数据很大，一次不能容纳全部的排序记录，在排序过程中需要访问外存。</p>
<p>我们这里说说八大排序就是内部排序。</p>
<p><img src="/images/%E5%85%AB%E5%A4%A7%E6%8E%92%E5%BA%8F.jpg" srcset="/img/loading.gif" lazyload></p>
<p>当n较大，则应采用时间复杂度为O(nlog2n)的排序方法：快速排序、堆排序或归并排序。快速排序：是目前基于比较的内部排序中被认为是最好的方法，当待排序的关键字是随机分布时，快速排序的平均时间最短；</p>
<h3 id="插入排序—直接插入排序-Straight-Insertion-Sort"><a href="#插入排序—直接插入排序-Straight-Insertion-Sort" class="headerlink" title="插入排序—直接插入排序(Straight Insertion Sort)"></a>插入排序—直接插入排序(Straight Insertion Sort)</h3><p><strong>基本思想:</strong><br>将一个记录插入到已排序好的有序表中，从而得到一个新，记录数增1的有序表。即：先将序列的第1个记录看成是一个有序的子序列，然后从第2个记录逐个进行插入，直至整个序列有序为止。<br><strong>要点：</strong>设立哨兵，作为临时存储和判断数组边界之用。<br>直接插入排序示例：</p>
<p><img src="/images/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F.jpg" srcset="/img/loading.gif" lazyload></p>
<p><strong>算法实现：</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//插入排序</span>
<span class="token keyword">void</span> <span class="token function">Insert_Sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>list<span class="token punctuation">,</span><span class="token keyword">int</span> count<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
 	<span class="token keyword">int</span> temp<span class="token punctuation">;</span><span class="token comment">/*此处充当哨兵，不在list数组里面单独占一个单位*/</span>
 	<span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">;</span>
 	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>count<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//为寻找插入位置不断后移</span>
 	<span class="token punctuation">&#123;</span>
 		<span class="token keyword">if</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&lt;</span>list<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 		<span class="token punctuation">&#123;</span>
  			temp <span class="token operator">=</span> list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  			<span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>list<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">></span>temp<span class="token operator">&amp;&amp;</span>j<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">--</span><span class="token punctuation">)</span><span class="token comment">//后移一位，然后从当前位置开始比较，不断前移，直到寻找到插入位置或者移动到数组第一个元素</span>
  			<span class="token punctuation">&#123;</span>
  				list<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> list<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//不断把前一个元素覆盖后一个元素，跳出循环时，j即为插入位置，但是跳出循环后j--，所以最后的插入位置为j + 1</span>
  			<span class="token punctuation">&#125;</span>
  			list<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span><span class="token comment">//</span>
 		<span class="token punctuation">&#125;</span>
 	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
效率：
时间复杂度：O（n<span class="token operator">^</span><span class="token number">2</span>）<span class="token punctuation">.</span>
其他的插入排序有二分插入排序等<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="插入排序—希尔排序（Shell-96-s-Sort）"><a href="#插入排序—希尔排序（Shell-96-s-Sort）" class="headerlink" title="插入排序—希尔排序（Shell&#96;s Sort）"></a>插入排序—希尔排序（Shell&#96;s Sort）</h3><p>希尔排序是1959 年由D.L.Shell 提出来的，相对直接排序有较大的改进。希尔排序又叫缩小增量排序。希尔排序是非稳定排序算法。</p>
<p><strong>基本思想：</strong></p>
<p>希尔排序是把记录按下标的一定增量分组，对每组使用直接插入排序算法排序；随着增量逐渐减少，每组包含的关键词越来越多，当增量减至1时，整个文件恰被分成一组，算法便终止。</p>
<p><strong>操作方法：</strong></p>
<p>排序过程：先取一个正整数d1&lt;n，把所有序号相隔d1的数组元素放一组，组内进行直接插入排序；然后取d2&lt;d1，重复上述分组和排序操作；直至di&#x3D;1，即所有记录放进一个组中排序为止。</p>
<p><img src="/images/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F.jpg" srcset="/img/loading.gif" lazyload></p>
<p><strong>算法实现：</strong><br>我们简单处理增量序列：增量序列d &#x3D; {n&#x2F;2 ,n&#x2F;4, n&#x2F;8 …..1} n为要排序数的个数<br>即：先将要排序的一组记录按某个增量d（n&#x2F;2,n为要排序数的个数）分成若干组子序列，每组中记录的下标相差d.对每组中全部元素进行直接插入排序，然后再用一个较小的增量（d&#x2F;2）对它进行分组，在每组中再进行直接插入排序。继续不断缩小增量直至为1，最后使用直接插入排序完成排序。 </p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span>

<span class="token comment">//打印</span>
<span class="token keyword">void</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>array<span class="token punctuation">,</span><span class="token keyword">int</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//希尔排序</span>
<span class="token keyword">void</span> <span class="token function">ShellSort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>array<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//打印</span>
<span class="token keyword">void</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>array<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">//希尔排序</span>
<span class="token keyword">void</span> <span class="token function">ShellSort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>array<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">int</span> gap <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token comment">//记录排序次数</span>
	<span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token comment">//要插入的位置的前一个位置</span>
	<span class="token keyword">int</span> pos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>gap<span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token comment">//记录要存入的元素</span>
			k <span class="token operator">=</span> array<span class="token punctuation">[</span>i <span class="token operator">+</span> gap<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token comment">//下标超过数组的范围返回</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> gap  <span class="token operator">>=</span> size<span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
			<span class="token comment">//从被插入的元素的前gap个元素开始比较</span>
			<span class="token comment">//pos = i + gap -gap</span>
			pos <span class="token operator">=</span> i<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>k <span class="token operator">&lt;</span> array<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> pos<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token comment">//元素后移</span>
				array<span class="token punctuation">[</span>pos <span class="token operator">+</span> gap<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
				<span class="token comment">//下标</span>
				pos <span class="token operator">=</span> pos <span class="token operator">-</span> gap<span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>                                                       
			array<span class="token punctuation">[</span>pos <span class="token operator">+</span> gap<span class="token punctuation">]</span> <span class="token operator">=</span> k<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"第%d次排序后："</span><span class="token punctuation">,</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Print</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
		gap<span class="token operator">--</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<figure><div class="code-wrapper"><pre class="language-none"><code class="language-none"> 希尔排序时效分析很难，关键码的比较次数与记录移动次数依赖于增量因子序列d的选取，特定情况下可以准确估算出关键码的比较次数和记录的移动次数。目前还没有人给出选取最好的增量因子序列的方法。增量因子序列可以有各种取法，有取奇数的，也有取质数的，但需要注意：增量因子中除1 外没有公因子，且最后一个增量因子必须为1。希尔排序方法是一个不稳定的排序方法。希尔排序时间复杂度的下界是n*log2n，因此中等大小规模表现良好。
</code></pre></div></figure>
<h3 id="选择排序—简单选择排序（Simple-Selection-Sort）"><a href="#选择排序—简单选择排序（Simple-Selection-Sort）" class="headerlink" title="选择排序—简单选择排序（Simple Selection Sort）"></a>选择排序—简单选择排序（Simple Selection Sort）</h3><p><strong>基本思想：</strong></p>
<p>在要排序的一组数中，选出最小（或者最大）的一个数与第1个位置的数交换；然后在剩下的数当中再找最小（或者最大）的与第2个位置的数交换，依次类推，直到第n-1个元素（倒数第二个数）和第n个元素（最后一个数）比较为止。</p>
<p>简单选择排序的示例：</p>
<p><img src="/images/%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F.jpg" srcset="/img/loading.gif" lazyload></p>
<p>进行比较操作的时间复杂度为O(n^2)，进行移动操作的时间复杂度为O(n)。简单选择排序是不稳定排序。</p>
<p><strong>操作方法：</strong></p>
<p>第一趟，从n 个记录中找出关键码最小的记录与第一个记录交换；</p>
<p>第二趟，从第二个记录开始的n-1 个记录中再选出关键码最小的记录与第二个记录交换；</p>
<p>以此类推…..</p>
<p>第i 趟，则从第i 个记录开始的n-i+1 个记录中选出关键码最小的记录与第i 个记录交换，</p>
<p>直到整个序列按关键码有序。</p>
<p><strong>算法实现</strong>：</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//选择排序</span>
<span class="token keyword">void</span> <span class="token function">Select_Sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>list<span class="token punctuation">,</span><span class="token keyword">int</span> count<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
 	<span class="token keyword">int</span> min<span class="token punctuation">,</span>i<span class="token punctuation">,</span>j<span class="token punctuation">;</span>
 	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>count<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
 	<span class="token punctuation">&#123;</span>
 		min <span class="token operator">=</span> i<span class="token punctuation">;</span>
 		<span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>count<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
 		<span class="token punctuation">&#123;</span>
  			<span class="token keyword">if</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span>min<span class="token punctuation">]</span><span class="token operator">></span>list<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
  			<span class="token punctuation">&#123;</span>
  				min <span class="token operator">=</span> j<span class="token punctuation">;</span>
  			<span class="token punctuation">&#125;</span>
 		<span class="token punctuation">&#125;</span>
 		<span class="token keyword">if</span><span class="token punctuation">(</span>min<span class="token operator">!=</span>i<span class="token punctuation">)</span>
 		<span class="token punctuation">&#123;</span>
  			<span class="token function">swap</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>list<span class="token punctuation">[</span>min<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 		<span class="token punctuation">&#125;</span>
 	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>简单选择排序的改进——二元选择排序</p>
<p>简单选择排序，每趟循环只能确定一个元素排序后的定位。我们可以考虑改进为每趟循环确定两个元素（当前趟最大和最小记录）的位置,从而减少排序所需的循环次数。改进后对n个数据进行排序，最多只需进行[n&#x2F;2]趟循环即可。</p>
<h3 id="选择排序—堆排序（Heap-Sort）"><a href="#选择排序—堆排序（Heap-Sort）" class="headerlink" title="选择排序—堆排序（Heap Sort）"></a>选择排序—堆排序（Heap Sort）</h3><p>堆排序是一种树形选择排序，是对直接选择排序的有效改进。</p>
<p><strong>基本思想：</strong><br>堆的定义如下：具有n个元素的序列（k1,k2,…,kn),当且仅当满足</p>
<p>时称之为堆。由堆的定义可以看出，堆顶元素（即第一个元素）必为最小项（小顶堆）。<br>     若以一维数组存储一个堆，则堆对应一棵完全二叉树，且所有非叶结点的值均不大于(或不小于)其子女的值，根结点（堆顶元素）的值是最小(或最大)的。如：<br>（a）大顶堆序列：（96，83，27，38，11，09)<br>（b）小顶堆序列：（12，36，24，85，47，30，53，91）</p>
<p><img src="/images/%E5%A0%86%E6%8E%92%E5%BA%8F.jpg" srcset="/img/loading.gif" lazyload></p>
<p>初始时把要排序的n个数的序列看作是一棵顺序存储的二叉树（一维数组存储二叉树），调整它们的存储序，使之成为一个堆，将堆顶元素输出，得到n 个元素中最小(或最大)的元素，这时堆的根节点的数最小（或者最大）。然后对前面(n-1)个元素重新调整使之成为堆，输出堆顶元素，得到n 个元素中次小(或次大)的元素。依此类推，直到只有两个节点的堆，并对它们作交换，最后得到有n个节点的有序序列。称这个过程为堆排序。</p>
<p>因此，实现堆排序需解决两个问题：</p>
<ol>
<li>如何将n 个待排序的数建成堆；</li>
<li>输出堆顶元素后，怎样调整剩余n-1 个元素，使其成为一个新堆。</li>
</ol>
<p>首先讨论第二个问题：输出堆顶元素后，对剩余n-1元素重新建成堆的调整过程。<br>调整小顶堆的方法：<br>1）设有m 个元素的堆，输出堆顶元素后，剩下m-1 个元素。将堆底元素送入堆顶（（最后一个元素与堆顶进行交换），堆被破坏，其原因仅是根结点不满足堆的性质。<br>2）将根结点与左、右子树中较小元素的进行交换。<br>3）若与左子树交换：如果左子树堆被破坏，即左子树的根结点不满足堆的性质，则重复方法 （2）.<br>4）若与右子树交换，如果右子树堆被破坏，即右子树的根结点不满足堆的性质。则重复方法 （2）.<br>5）继续对不满足堆性质的子树进行上述交换操作，直到叶子结点，堆被建成。</p>
<p>称这个自根结点到叶子结点的调整过程为筛选。如图：</p>
<p><img src="/images/%E5%A0%86%E6%8E%92%E5%BA%8F02.jpg" srcset="/img/loading.gif" lazyload></p>
<p>再讨论对n 个元素初始建堆的过程。<br>建堆方法：对初始序列建堆的过程，就是一个反复进行筛选的过程。<br>1）n 个结点的完全二叉树，则最后一个结点是第个结点的子树。<br>2）筛选从第个结点为根的子树开始，该子树成为堆。<br>3）之后向前依次对各结点为根的子树进行筛选，使之成为堆，直到根结点。<br>如图建堆初始过程：无序序列：（49，38，65，97，76，13，27，49）</p>
<p><img src="/images/%E5%A0%86%E6%8E%92%E5%BA%8F03.jpg" srcset="/img/loading.gif" lazyload></p>
<p><strong>算法实现：</strong></p>
<p>从算法描述来看，堆排序需要两个过程，一是建立堆，二是堆顶与堆的最后一个元素交换位置。所以堆排序有两个函数组成。一是建堆的渗透函数，二是反复调用渗透函数实现排序的函数。</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//调整为一个堆</span>
<span class="token keyword">void</span> <span class="token function">Heap_Adjust</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>list<span class="token punctuation">,</span><span class="token keyword">int</span> s<span class="token punctuation">,</span><span class="token keyword">int</span> m<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
 	<span class="token keyword">int</span> temp <span class="token operator">=</span> list<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">;</span>
 	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">2</span><span class="token operator">*</span>s<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>m<span class="token punctuation">;</span>j <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">*</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
 	<span class="token punctuation">&#123;</span>
 		<span class="token keyword">if</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;</span>list<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>j<span class="token operator">&lt;</span>m<span class="token punctuation">)</span>
 		<span class="token punctuation">&#123;</span>
  			j<span class="token operator">++</span><span class="token punctuation">;</span>
 		<span class="token punctuation">&#125;</span>
 		<span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token operator">></span>list<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
  			<span class="token keyword">break</span><span class="token punctuation">;</span>
 		list<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">=</span> list<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
 		s <span class="token operator">=</span> j<span class="token punctuation">;</span>
 	<span class="token punctuation">&#125;</span>
 	list<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">//堆排序</span>
<span class="token keyword">void</span> <span class="token function">Heap_Sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>list<span class="token punctuation">,</span><span class="token keyword">int</span> len<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
 	<span class="token comment">//创建一个大顶堆</span>
 	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> s <span class="token operator">=</span> len<span class="token operator">/</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>s<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">;</span>s<span class="token operator">--</span><span class="token punctuation">)</span>
 	<span class="token punctuation">&#123;</span>
 		<span class="token function">Heap_Adjust</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span>s<span class="token punctuation">,</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 	<span class="token punctuation">&#125;</span>
 
 	<span class="token comment">//排序</span>
 	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>i <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">--</span><span class="token punctuation">)</span>
 	<span class="token punctuation">&#123;</span>
 		<span class="token function">swap</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 		<span class="token function">Heap_Adjust</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p>分析:<br>设树深度为k，。从根到叶的筛选，元素比较次数至多2(k-1)次，交换记录至多k 次。所以，在建好堆后，排序过程中的筛选次数不超过下式： </p>
<p>而建堆时的比较次数不超过4n 次，因此堆排序最坏情况下，时间复杂度也为：O(nlogn )。<br>由于建初始堆所需的比较次数较多，所以堆排序不适宜于记录数较少的文件。堆排序是就地排序，辅助空间为O(1），它是不稳定的排序方法。</p>
<h3 id="交换排序—冒泡排序（Bubble-Sort）"><a href="#交换排序—冒泡排序（Bubble-Sort）" class="headerlink" title="交换排序—冒泡排序（Bubble Sort）"></a>交换排序—冒泡排序（Bubble Sort）</h3><p><strong>基本思想：</strong><br>在要排序的一组数中，对当前还未排好序的范围内的全部数，自上而下对相邻的两个数依次进行比较和调整，让较大的数往下沉，较小的往上冒。即：每当两相邻的数比较后发现它们的排序与排序要求相反时，就将它们互换。</p>
<p>冒泡排序的示例：</p>
<p><img src="/images/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F.jpg" srcset="/img/loading.gif" lazyload></p>
<p><strong>算法实现</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//冒泡排序</span>
<span class="token keyword">void</span> <span class="token function">Bubble_Sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>list<span class="token punctuation">,</span><span class="token keyword">int</span> count<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
 	<span class="token keyword">int</span> flag <span class="token operator">=</span> true<span class="token punctuation">;</span>
 	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
 	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>count<span class="token operator">&amp;&amp;</span>flag<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
 	<span class="token punctuation">&#123;</span>
  		flag <span class="token operator">=</span> false<span class="token punctuation">;</span>
  		<span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span>count <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">>=</span>i<span class="token punctuation">;</span>j<span class="token operator">--</span><span class="token punctuation">)</span>
  		<span class="token punctuation">&#123;</span>
   			<span class="token keyword">if</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;</span>list<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
   			<span class="token punctuation">&#123;</span>
    			<span class="token function">swap</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>list<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    			flag <span class="token operator">=</span> true<span class="token punctuation">;</span>
   			<span class="token punctuation">&#125;</span>
  		<span class="token punctuation">&#125;</span>
 	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>冒泡排序算法的改进</strong><br>对冒泡排序常见的改进方法是加入一标志性变量exchange，用于标志某一趟排序过程中是否有数据交换，如果进行某一趟排序时并没有进行数据交换，则说明数据已经按要求排列好，可立即结束排序，避免不必要的比较过程。本文再提供以下两种改进算法：<br>1．设置一标志性变量pos,用于记录每趟排序中最后一次进行交换的位置。由于pos位置之后的记录均已交换到位,故在进行下一趟排序时只要扫描到pos位置即可。<br>2．传统冒泡排序中每一趟排序操作只能找到一个最大值或最小值,我们考虑利用在每趟排序中进行正向和反向两遍冒泡的方法一次可以得到两个最终值(最大者和最小者) , 从而使排序趟数几乎减少了一半。</p>
<h3 id="交换排序—快速排序（Quick-Sort）"><a href="#交换排序—快速排序（Quick-Sort）" class="headerlink" title="交换排序—快速排序（Quick Sort）"></a>交换排序—快速排序（Quick Sort）</h3><p><strong>基本思想：</strong><br>一趟快速排序的算法是：<br>1）设置两个变量i、j，排序开始的时候：i&#x3D;0，j&#x3D;N-1；<br>2）以第一个数组元素作为关键数据，赋值给key，即key&#x3D;A[0]；<br>3）从j开始向前搜索，即由后开始向前搜索(j–)，找到第一个小于key的值A[j]，将A[j]和A[i]互换；<br>4）从i开始向后搜索，即由前开始向后搜索(i++)，找到第一个大于key的A[i]，将A[i]和A[j]互换；<br>5）重复第3、4步，直到i&#x3D;j； (3,4步中，没找到符合条件的值，即3中A[j]不小于key,4中A[i]不大于key的时候改变j、i的值，使得j&#x3D;j-1，i&#x3D;i+1，直至找到为止。找到符合条件的值，进行交换的时候i， j指针位置不变。另外，i&#x3D;&#x3D;j这一过程一定正好是i+或j-完成的时候，此时令循环结束）。<br>（a）一趟排序的过程：</p>
<p><img src="/images/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F.jpg" srcset="/img/loading.gif" lazyload></p>
<p><strong>算法实现</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>
<span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> low<span class="token punctuation">,</span> <span class="token keyword">int</span> high<span class="token punctuation">)</span> <span class="token comment">//交换两个数的值</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> t <span class="token operator">=</span> a<span class="token punctuation">[</span>low<span class="token punctuation">]</span><span class="token punctuation">;</span>
    a<span class="token punctuation">[</span>low<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>high<span class="token punctuation">]</span><span class="token punctuation">;</span>
    a<span class="token punctuation">[</span>high<span class="token punctuation">]</span> <span class="token operator">=</span> t<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
 
<span class="token keyword">int</span> <span class="token function">partition</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> low<span class="token punctuation">,</span> <span class="token keyword">int</span> high<span class="token punctuation">)</span>  <span class="token comment">//计算基准点，分割为左右两个数组</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> point <span class="token operator">=</span> a<span class="token punctuation">[</span>low<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//基准点等于第一个元素</span>
<span class="token comment">/*    while(1)&#123;
        while(low&lt;high &amp;&amp; a[++low]&lt;point);
        while(a[--high]>point);
        if(low>=high) break;
*/</span>
      <span class="token keyword">while</span><span class="token punctuation">(</span>low<span class="token operator">&lt;</span>high<span class="token punctuation">)</span>
      <span class="token punctuation">&#123;</span>
          <span class="token keyword">while</span><span class="token punctuation">(</span>low<span class="token operator">&lt;</span>high <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">[</span>high<span class="token punctuation">]</span><span class="token operator">>=</span>point<span class="token punctuation">)</span><span class="token comment">//控制high指针比较并左移</span>
          <span class="token punctuation">&#123;</span>
                 high<span class="token operator">--</span><span class="token punctuation">;</span>
          <span class="token punctuation">&#125;</span>  
         <span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>low<span class="token punctuation">,</span>high<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment">//&#125;</span>
         <span class="token keyword">while</span><span class="token punctuation">(</span>low<span class="token operator">&lt;</span>high <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">[</span>low<span class="token punctuation">]</span><span class="token operator">&lt;=</span>point<span class="token punctuation">)</span><span class="token comment">//控制low指针比较并右移</span>
          <span class="token punctuation">&#123;</span>
                low<span class="token operator">++</span><span class="token punctuation">;</span>
          <span class="token punctuation">&#125;</span>  
          <span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>low<span class="token punctuation">,</span>high<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> low<span class="token punctuation">;</span><span class="token comment">//返回基准点位置</span>
<span class="token punctuation">&#125;</span>
 
<span class="token keyword">void</span> <span class="token function">quicksort</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> low<span class="token punctuation">,</span> <span class="token keyword">int</span> high<span class="token punctuation">)</span>  <span class="token comment">//low:起始位置 high:末尾位置</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>low<span class="token operator">&lt;</span>high<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">int</span> point <span class="token operator">=</span> <span class="token function">partition</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>low<span class="token punctuation">,</span>high<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//计算基准点</span>
        <span class="token function">quicksort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>low<span class="token punctuation">,</span>point<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//对基准点的左边进行排序</span>
        <span class="token function">quicksort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>point<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>high<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//对基准点的右边进行排序</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
    
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>
    <span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">27</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
    
    <span class="token function">quicksort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> N<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<p><strong>分析：</strong></p>
<p>快速排序是通常被认为在同数量级（O(nlog2n)）的排序方法中平均性能最好的。但若初始序列按关键码有序或基本有序时，快排序反而蜕化为冒泡排序。为改进之，通常以“三者取中法”来选取基准记录，即将排序区间的两个端点与中点三个记录关键码居中的调整为支点记录。快速排序是一个不稳定的排序方法。</p>
<p><strong>快速排序的改进</strong></p>
<p>在本改进算法中,只对长度大于k的子序列递归调用快速排序,让原序列基本有序，然后再对整个基本有序序列用插入排序算法排序。实践证明，改进后的算法时间复杂度有所降低，且当k取值为 8 左右时,改进算法的性能最佳。</p>
<h3 id="归并排序（Merge-Sort）"><a href="#归并排序（Merge-Sort）" class="headerlink" title="归并排序（Merge Sort）"></a>归并排序（Merge Sort）</h3><p><strong>基本思想：</strong></p>
<p>归并（Merge）排序法是将两个（或两个以上）有序表合并成一个新的有序表，即把待排序序列分为若干个子序列，每个子序列是有序的。然后再把有序子序列合并为整体有序序列。</p>
<p>归并排序示例：</p>
<p><img src="/images/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F.jpg" srcset="/img/loading.gif" lazyload></p>
<p><strong>合并方法：</strong></p>
<p>设r[i…n]由两个有序子表r[i…m]和r[m+1…n]组成，两个子表长度分别为n-i +1、n-m。</p>
<p>1.j&#x3D;m+1；k&#x3D;i；i&#x3D;i; &#x2F;&#x2F;置两个子表的起始下标及辅助数组的起始下标</p>
<p>2.若i&gt;m 或j&gt;n，转⑷ &#x2F;&#x2F;其中一个子表已合并完，比较选取结束</p>
<p>3.&#x2F;&#x2F;选取r[i]和r[j]较小的存入辅助数组rf</p>
<p>如果r[i]&lt;r[j]，rf[k]&#x3D;r[i]； i++； k++； 转⑵</p>
<p>否则，rf[k]&#x3D;r[j]； j++； k++； 转⑵</p>
<p>4.&#x2F;&#x2F;将尚未处理完的子表中元素存入rf</p>
<p>如果i&lt;&#x3D;m，将r[i…m]存入rf[k…n] &#x2F;&#x2F;前一子表非空</p>
<p>​        如果j&lt;&#x3D;n ,  将r[j…n] 存入rf[k…n] &#x2F;&#x2F;后一子表非空</p>
<p>5.合并结束。</p>
<p><strong>算法实现</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//归并排序（稳定，空间效率为O(n)，时间效率为O(nlogn)）</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span>

<span class="token comment">//定义一个动态数组</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> <span class="token operator">*</span>data<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span> DSqList<span class="token punctuation">;</span>

<span class="token comment">//声明一个全局动态辅助数组B</span>
DSqList B<span class="token punctuation">;</span>

<span class="token comment">//动态数组初始化</span>
<span class="token keyword">void</span> <span class="token function">InitDSqList</span><span class="token punctuation">(</span>DSqList <span class="token operator">&amp;</span>L<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//根据数组A的长度动态分配辅助数组B的空间</span>
    L<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">malloc</span><span class="token punctuation">(</span>len <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//归并操作——表A中的两个子表A[low...mid]与A[mid+1...high]各自有序，将它们合并为一个有序表</span>
<span class="token keyword">void</span> <span class="token function">Merge</span><span class="token punctuation">(</span><span class="token keyword">int</span> A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> low<span class="token punctuation">,</span> <span class="token keyword">int</span> mid<span class="token punctuation">,</span> <span class="token keyword">int</span> high<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k<span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> p <span class="token operator">=</span> low<span class="token punctuation">;</span> p <span class="token operator">&lt;=</span> high<span class="token punctuation">;</span> <span class="token operator">++</span>p<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>     <span class="token comment">//将数组A中的元素对应复制到辅助数组B中</span>
        B<span class="token punctuation">.</span>data<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> low<span class="token punctuation">,</span> j <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> k <span class="token operator">=</span> i<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> mid <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> high<span class="token punctuation">;</span> <span class="token operator">++</span>k<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>B<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> B<span class="token punctuation">.</span>data<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment">//比较辅助数组B左右两段子表中的元素，并将较小的值复制到A中相应位置</span>
            A<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> B<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            A<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> B<span class="token punctuation">.</span>data<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> mid<span class="token punctuation">)</span>                    <span class="token comment">//如果左子表未检查完，将剩余元素依次复制到A中</span>
        A<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> B<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;=</span> high<span class="token punctuation">)</span>                   <span class="token comment">//如果右子表未检查完，将剩余元素依次复制到A</span>
        A<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> B<span class="token punctuation">.</span>data<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//归并排序</span>
<span class="token keyword">void</span> <span class="token function">MergeSort</span><span class="token punctuation">(</span><span class="token keyword">int</span> A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> low<span class="token punctuation">,</span> <span class="token keyword">int</span> high<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>low <span class="token operator">&lt;</span> high<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>low <span class="token operator">+</span> high<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>         <span class="token comment">//从中间进行划分，分成两个子表</span>
        <span class="token function">MergeSort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> low<span class="token punctuation">,</span> mid<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//递归的对左边的子表进行归并排序</span>
        <span class="token function">MergeSort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//递归的对右边的子表进行归并排序</span>
        <span class="token function">Merge</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> low<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">//将左右子表进行归并</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> A<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">97</span><span class="token punctuation">,</span> <span class="token number">76</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//初始化辅助数组B</span>
    <span class="token function">InitDSqList</span><span class="token punctuation">(</span>B<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//归并排序</span>
    <span class="token function">MergeSort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//输出排序后的结果</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"归并排序后的结果为："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="桶排序-x2F-基数排序-Radix-Sort"><a href="#桶排序-x2F-基数排序-Radix-Sort" class="headerlink" title="桶排序&#x2F;基数排序(Radix Sort)"></a>桶排序&#x2F;基数排序(Radix Sort)</h3><p>说基数排序之前，我们先说桶排序：</p>
<p><strong>基本思想(桶排序)：</strong><br>是将阵列分到有限数量的桶子里。每个桶子再个别排序（有可能再使用别的排序算法或是以递回方式继续使用桶排序进行排序）。桶排序是鸽巢排序的一种归纳结果。当要被排序的阵列内的数值是均匀分配的时候，桶排序使用线性时间（Θ（n））。但桶排序并不是 比较排序，他不受到 O(n log n) 下限的影响。<br>简单来说，就是把数据分组，放在一个个的桶中，然后对每个桶里面的在进行排序。  </p>
<p>例如要对大小为[1..1000]范围内的n个整数A[1..n]排序<br>首先，可以把桶设为大小为10的范围，具体而言，设集合B[1]存储[1..10]的整数，集合B[2]存储(10..20]的整数，……集合B[i]存储((i-1)<em>10,   i</em>10]的整数，i   &#x3D;   1,2,..100。总共有100个桶。  </p>
<p>然后，对A[1..n]从头到尾扫描一遍，把每个A[i]放入对应的桶B[j]中。再对这100个桶中每个桶里的数字排序，这时可用冒泡，选择，乃至快排，一般来说任何排序法都可以。<br>最后，依次输出每个桶里面的数字，且每个桶中的数字从小到大输出，这样就得到所有数字排好序的一个序列了。 </p>
<p>假设有n个数字，有m个桶，如果数字是平均分布的，则每个桶里面平均有n&#x2F;m个数字。如果对每个桶中的数字采用快速排序，那么整个算法的复杂度是<br>O(n + m * n&#x2F;m*log(n&#x2F;m)) &#x3D; O(n + nlogn - nlogm)<br>从上式看出，当m接近n的时候，桶排序复杂度接近O(n)<br>当然，以上复杂度的计算是基于输入的n个数字是平均分布这个假设的。这个假设是很强的，实际应用中效果并没有这么好。如果所有的数字都落在同一个桶中，那就退化成一般的排序了。<br>前面说的几大排序算法 ，大部分时间复杂度都是O（n2），也有部分排序算法时间复杂度是O(nlogn)。而桶式排序却能实现O（n）的时间复杂度。但桶排序的缺点是：<br>1）首先是空间复杂度比较高，需要的额外开销大。排序有两个数组的空间开销，一个存放待排序数组，一个就是所谓的桶，比如待排序值是从0到m-1，那就需要m个桶，这个桶数组就要至少m个空间。<br>2）其次待排序的元素都要在一定的范围内等等。<br>桶式排序是一种分配排序。分配排序的特定是不需要进行关键码的比较，但前提是要知道待排序列的一些具体情况。</p>
<p><strong>分配排序的基本思想：说白了就是进行多次的桶式排序。</strong></p>
<p>基数排序过程无须比较关键字，而是通过“分配”和“收集”过程来实现排序。它们的时间复杂度可达到线性阶：O(n)。</p>
<p>实例:<br>扑克牌中52 张牌，可按花色和面值分成两个字段，其大小关系为：<br>花色： 梅花&lt; 方块&lt; 红心&lt; 黑心<br>面值： 2 &lt; 3 &lt; 4 &lt; 5 &lt; 6 &lt; 7 &lt; 8 &lt; 9 &lt; 10 &lt; J &lt; Q &lt; K &lt; A<br>若对扑克牌按花色、面值进行升序排序，得到如下序列：</p>
<p>即两张牌，若花色不同，不论面值怎样，花色低的那张牌小于花色高的，只有在同花色情况下，大小关系才由面值的大小确定。这就是多关键码排序。</p>
<p>为得到排序结果，我们讨论两种排序方法。<br>方法1：先对花色排序，将其分为4 个组，即梅花组、方块组、红心组、黑心组。再对每个组分别按面值进行排序，最后，将4 个组连接起来即可。<br>方法2：先按13 个面值给出13 个编号组(2 号，3 号，…，A 号)，将牌按面值依次放入对应的编号组，分成13 堆。再按花色给出4 个编号组(梅花、方块、红心、黑心)，将2号组中牌取出分别放入对应花色组，再将3 号组中牌取出分别放入对应花色组，……，这样，4 个花色组中均按面值有序，然后，将4 个花色组依次连接起来即可。</p>
<p>设n 个元素的待排序列包含d 个关键码{k1，k2，…，kd}，则称序列对关键码{k1，k2，…，kd}有序是指：对于序列中任两个记录r[i]和r<a href="1%E2%89%A4i%E2%89%A4j%E2%89%A4n">j</a>都满足下列有序关系：</p>
<p>其中k1 称为最主位关键码，kd 称为最次位关键码 。</p>
<p><strong>两种多关键码排序方法：</strong><br>多关键码排序按照从最主位关键码到最次位关键码或从最次位到最主位关键码的顺序逐次排序，分两种方法：<br>最高位优先(Most Significant Digit first)法，简称MSD 法：<br>1）先按k1 排序分组，将序列分成若干子序列，同一组序列的记录中，关键码k1 相等。<br>2）再对各组按k2 排序分成子组，之后，对后面的关键码继续这样的排序分组，直到按最次位关键码kd 对各子组排序后。<br>3）再将各组连接起来，便得到一个有序序列。扑克牌按花色、面值排序中介绍的方法一即是MSD 法。<br>最低位优先(Least Significant Digit first)法，简称LSD 法：</p>
<ol>
<li>先从kd 开始排序，再对kd-1进行排序，依次重复，直到按k1排序分组分成最小的子序列后。</li>
<li>最后将各个子序列连接起来，便可得到一个有序的序列, 扑克牌按花色、面值排序中介绍的方法二即是LSD 法。</li>
</ol>
<p><strong>基于LSD方法的链式基数排序的基本思想</strong><br>“多关键字排序”的思想实现“单关键字排序”。对数字型或字符型的单关键字，可以看作由多个数位或多个字符构成的多关键字，此时可以采用“分配-收集”的方法进行排序，这一过程称作基数排序法，其中每个数字或字符可能的取值个数称为基数。比如，扑克牌的花色基数为4，面值基数为13。在整理扑克牌时，既可以先按花色整理，也可以先按面值整理。按花色整理时，先按红、黑、方、花的顺序分成4摞（分配），再按此顺序再叠放在一起（收集），然后按面值的顺序分成13摞（分配），再按此顺序叠放在一起（收集），如此进行二次分配和收集即可将扑克牌排列有序。   </p>
<p><strong>基数排序:</strong><br>是按照低位先排序，然后收集；再按照高位排序，然后再收集；依次类推，直到最高位。有时候有些属性是有优先级顺序的，先按低优先级排序，再按高优先级排序。最后的次序就是高优先级高的在前，高优先级相同的低优先级高的在前。基数排序基于分别排序，分别收集，所以是稳定的。</p>
<p><strong>算法实现</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//基数排序</span>
<span class="token keyword">void</span> <span class="token function">RadixSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token comment">//max为数组中最大值</span>
	<span class="token keyword">int</span> max <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> base <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

	<span class="token comment">//找出数组中的最大值</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> max<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			max <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token comment">//循环结束max就是数组最大值</span>


	<span class="token comment">//临时存放数组元素的空间</span>
	<span class="token keyword">int</span><span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">*</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//循环次数为最大数的位数</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>max <span class="token operator">/</span> base <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
		<span class="token comment">//定义十个桶，桶里面装的不是数据本身，而是每一轮排序对应（十、白、千...）位的个数</span>
		<span class="token comment">//统计每个桶里面装几个数</span>
		<span class="token keyword">int</span> bucket<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">0</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token comment">//arr[i] / base % 10可以取到个位、十位、百位对应的数字</span>
			bucket<span class="token punctuation">[</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">/</span> base <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token comment">//循环结束就已经统计好了本轮每个桶里面应该装几个数</span>


		<span class="token comment">//将桶里面的元素依次累加起来，就可以知道元素存放在临时数组中的位置</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			bucket<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> bucket<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token comment">//循环结束现在桶中就存放的是每个元素应该存放到临时数组的位置</span>


		<span class="token comment">//开始放数到临时数组tmp</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			tmp<span class="token punctuation">[</span>bucket<span class="token punctuation">[</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">/</span> base <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
			bucket<span class="token punctuation">[</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">/</span> base <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token comment">//不能从前往后放，因为这样会导致十位排好了个位又乱了，百位排好了十位又乱了</span>
		<span class="token comment">/*for (int i = 0; i &lt; n; i++)
		&#123;
			tmp[bucket[arr[i] / base % 10] - 1] = arr[i];
			bucket[arr[i] / base % 10]--;
		&#125;*/</span>

		<span class="token comment">//把临时数组里面的数拷贝回去</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		base <span class="token operator">*=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">free</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>

<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p><strong>各种排序的稳定性，时间复杂度和空间复杂度总结：</strong></p>
<p><img src="/images/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.jpg" srcset="/img/loading.gif" lazyload></p>
<p>我们比较时间复杂度函数的情况：</p>
<p><img src="/images/%E6%8E%92%E5%BA%8F%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%A2%9E%E9%95%BF%E6%83%85%E5%86%B5.jpg" srcset="/img/loading.gif" lazyload></p>
<p>时间复杂度函数O(n)的增长情况：</p>
<p><img src="/images/%E4%B8%8D%E5%90%8C%E5%A4%A7%E5%B0%8F%E8%BE%93%E5%85%A5%E7%9A%84%E8%BF%90%E8%A1%8C%E6%97%B6%E9%97%B4.jpg" srcset="/img/loading.gif" lazyload></p>
<p>所以对n较大的排序记录。一般的选择都是时间复杂度为O(nlog2n)的排序方法。</p>
<p><strong>时间复杂度来说：</strong><br>(1)平方阶(O(n2))排序<br>     各类简单排序:直接插入、直接选择和冒泡排序；<br>(2)线性对数阶(O(nlog2n))排序<br>     快速排序、堆排序和归并排序；<br>(3)O(n1+§))排序,§是介于0和1之间的常数。</p>
<p>希尔排序<br>(4)线性阶(O(n))排序<br>     基数排序，此外还有桶、箱排序。</p>
<p><strong>说明：</strong><br>当原表有序或基本有序时，直接插入排序和冒泡排序将大大减少比较次数和移动记录的次数，时间复杂度可降至O（n）；而快速排序则相反，当原表基本有序时，将蜕化为冒泡排序，时间复杂度提高为O（n2）；原表是否有序，对简单选择排序、堆排序、归并排序和基数排序的时间复杂度影响不大。</p>
<p><strong>稳定性：</strong><br>排序算法的稳定性:若待排序的序列中，存在多个具有相同关键字的记录，经过排序， 这些记录的相对次序保持不变，则称该算法是稳定的；若经排序后，记录的相对 次序发生了改变，则称该算法是不稳定的。<br>     稳定性的好处：排序算法如果是稳定的，那么从一个键上排序，然后再从另一个键上排序，第一个键排序的结果可以为第二个键排序所用。基数排序就是这样，先按低位排序，逐次按高位排序，低位相同的元素其顺序再高位也相同时是不会改变的。另外，如果排序算法稳定，可以避免多余的比较；</p>
<p><strong>稳定的排序算法：冒泡排序、插入排序、归并排序和基数排序</strong><br><strong>不是稳定的排序算法：选择排序、快速排序、希尔排序、堆排序</strong></p>
<p><strong>选择排序算法准则：</strong><br>每种排序算法都各有优缺点。因此，在实用时需根据不同情况适当选用，甚至可以将多种方法结合起来使用。</p>
<p>选择排序算法的依据<br>影响排序的因素有很多，平均时间复杂度低的算法并不一定就是最优的。相反，有时平均时间复杂度高的算法可能更适合某些特殊情况。同时，选择算法时还得考虑它的可读性，以利于软件的维护。一般而言，需要考虑的因素有以下四点：<br>1．待排序的记录数目n的大小；<br>2．记录本身数据量的大小，也就是记录中除关键字外的其他信息量的大小；<br>3．关键字的结构及其分布情况；<br>4．对排序稳定性的要求。</p>
<p>设待排序元素的个数为n.</p>
<p>1）当n较大，则应采用时间复杂度为O(nlog2n)的排序方法：快速排序、堆排序或归并排序序。<br>快速排序：是目前基于比较的内部排序中被认为是最好的方法，当待排序的关键字是随机分布时，快速排序的平均时间最短；<br>     堆排序：如果内存空间允许且要求稳定性的，<br>归并排序：它有一定数量的数据移动，所以我们可能过与插入排序组合，先获得一定长度的序列，然后再合并，在效率上将有所提高。</p>
<p>2）当n较大，内存空间允许，且要求稳定性 &#x3D;》归并排序<br>3）当n较小，可采用直接插入或直接选择排序。<br>直接插入排序：当元素分布有序，直接插入排序将大大减少比较次数和移动记录的次数。<br>直接选择排序 ：元素分布有序，如果不要求稳定性，选择直接选择排序<br>4）一般不使用或不直接使用传统的冒泡排序。<br>5）基数排序<br>     它是一种稳定的排序算法，但有一定的局限性：<br>    1、关键字可分解。<br>    2、记录的关键字位数较少，如果密集更好<br>    3、如果是数字时，最好是无符号的，否则将增加相应的映射复杂度，可先将其正负分开排序。</p>
<h1 id="10、红黑树、B树、B-树、平衡二叉树"><a href="#10、红黑树、B树、B-树、平衡二叉树" class="headerlink" title="10、红黑树、B树、B+树、平衡二叉树"></a>10、红黑树、B树、B+树、平衡二叉树</h1><h2 id="10-1-红黑树"><a href="#10-1-红黑树" class="headerlink" title="10.1 红黑树"></a>10.1 红黑树</h2><h3 id="10-1-1-红黑树的概念"><a href="#10-1-1-红黑树的概念" class="headerlink" title="10.1.1 红黑树的概念"></a>10.1.1 红黑树的概念</h3><p>红黑树，是一种二叉搜索树，但在每个结点上增加一个存储位表示结点的颜色，可以是Red或Black。<br>通过任何一条从根到叶子的路径上各个结点着色方式的限制，红黑树确保没有一条路径会比其他路径长出俩倍，因而是接近平衡的。</p>
<h3 id="10-1-2-红黑树的性质"><a href="#10-1-2-红黑树的性质" class="headerlink" title="10.1.2 红黑树的性质"></a>10.1.2 红黑树的性质</h3><p>每个结点不是红色就是黑色<br>根节点是黑色的<br>如果一个节点是红色的，则它的两个孩子结点是黑色的<br>对于每个结点，从该结点到其所有后代叶结点的简单路径上，均包含相同数目的黑色结点<br>每个叶子结点都是黑色的(此处的叶子结点指的是空结点)</p>
<p>和AVL树的比较</p>
<p>AVL树是一棵严格的平衡树，它所有的子树都满足二叉平衡树的定义。<br>因此AVL树高被严格控制在XXX，因此AVL树的查找比较高效。但AVL树插入、删除结点后旋转的次数比红黑树多。</p>
<p>红黑树用非严格的平衡来降低插入删除时旋转的次数。</p>
<p>因此，如果你的业务中查找远远多于插入、删除，那选AVL树； </p>
<p>如果查找、插入、删除频率差不多，那么选择红黑树。</p>
<h3 id="10-1-3-红黑树总结"><a href="#10-1-3-红黑树总结" class="headerlink" title="10.1.3 红黑树总结"></a>10.1.3 红黑树总结</h3><p>通过上边对红黑树的详细谅解，我们就可以回答开始提出的问题了。</p>
<p>1、红黑树为什么要维持自平衡、自平衡的好处是什么？</p>
<p>答：红黑树是一个高效的查询树，保持平衡结构，可以保证从根节点到叶子节点的最长路径不超过最短路径的两倍，可以保证查询效率。</p>
<p>2、什么是左旋，右旋，变色？</p>
<p>答：左旋、右旋、变色都是对节点所在子树的操作，以节点为基进行变化保持树的平衡的操作。</p>
<p>3、什么条件下需要进行左旋、右旋、变色？</p>
<p>答：当发生节点插入或删除操作时，红黑树的平衡被破坏，这是就要根据具体的情况进行自平衡操作，即左旋、右旋或变色。</p>
<p>红黑树的结构比较复杂，无论是节点的插入还是删除，都有可能破坏自平衡结构，而自平衡过程最复杂情况可能是自底向上处理，直到根节点。<br>红黑树是平衡二叉树，但不是完美的平衡二叉树，只是黑色完美的平衡二叉树（性质5）<br>红黑树的五条性质任意一套被破坏都触发自平衡操作。<br>红色节点的子节点一定是黑色，但黑色节点的子节点则可以是红色和黑色任意一种，即可以有相邻的两层节点都是黑色的情况</p>
<h2 id="10-2-B树-B-树"><a href="#10-2-B树-B-树" class="headerlink" title="10.2 B树 B+树"></a>10.2 B树 B+树</h2><h3 id="10-2-1B-树的特性"><a href="#10-2-1B-树的特性" class="headerlink" title="10.2.1B 树的特性"></a>10.2.1B 树的特性</h3><p>一棵m阶的B树的满足条件：</p>
<p>每个节点至多有m棵子树<br>根节点除外，其它每个分支节点至少有【m&#x2F;2】棵子树<br>根节点至少有两棵子树（除非B树只包含一个节点）<br>所有叶子节点在同一层上，B树的叶子节点可以看成一种外部节点，不包含任何信息。<br>有j个孩子的非叶结点恰好有j-1个关键码，关键码按递增次序排列。<br>B 树又叫平衡多路查找树。</p>
<h3 id="10-2-2-B树的使用场景"><a href="#10-2-2-B树的使用场景" class="headerlink" title="10.2.2 B树的使用场景"></a>10.2.2 B树的使用场景</h3><p>B树多用于做文件系统的索引。</p>
<p>为什么要用B树？<br>原因：<br>B树和二叉树、红黑树相比较，子树更多也就是路数越多，子树月多表示数的高度越低，搜索效率越高，<br>当然如果路数太多就可能变成一个有序数组了。所以当然不可能使得路数无限大。</p>
<p>正因为文件系统和数据库一般都是存在电脑硬盘上的，如果数据量太大的话不一定能一次性加载到内存中。<br>但是B树可以多路存储。也正因为B树的这一个优点，可以在文件查找的时候每次只加载一个节点的内容存入内存来查找。<br>而红黑树在内存中查找非常块，但是如果在数据库和文件系统中，显然B树更优。</p>
<h2 id="10-3-B-树是B树的变种，有着比B树更高的查询效率。"><a href="#10-3-B-树是B树的变种，有着比B树更高的查询效率。" class="headerlink" title="10.3 B+树是B树的变种，有着比B树更高的查询效率。"></a>10.3 B+树是B树的变种，有着比B树更高的查询效率。</h2><p>1、B+树的特性</p>
<p>有 k 个子树的中间节点包含有 k 个元素（B 树中是 k-1 个元素），每个元素不保存数据，只用来索引，所有数据都保存在叶子节点。<br>所有的叶子结点中包含了全部元素的信息，及指向含这些元素记录的指针，且叶子结点本身依关键字的大小<br>自小而大顺序链接。<br>所有的中间节点元素都同时存在于子节点，在子节点元素中是最大（或最小）元素。</p>
<p>2、B+树的使用场景<br>B+树是在B树的基础上进行改造的，他的数据都在叶子节点，同时叶子节点之间还加了指针形成链表。<br>B+树多用于数据库中的索引。</p>
<p>3、为什么B+树用于数据库中的索引呢？<br>原因：<br>因为在数据库中select常常不只是查询一条记录，常常要查询多条记录。<br>比如：按照id的排序的后10条。如果是多条的话，B树需要做中序遍历，可能要跨层访问。<br>而B+树由于所有数据都在叶子结点，不用跨层，同时由于有链表结构，<br>只需要找到首尾，通过链表就能够把所有数据取出来了。</p>
<h2 id="10-4-平衡二叉树"><a href="#10-4-平衡二叉树" class="headerlink" title="10.4 平衡二叉树"></a>10.4 平衡二叉树</h2><p>怎么判断一颗二叉树是否为平衡二叉树呢？直接根据上述定义判断就行。具体来说，就是：</p>
<p>空树是平衡二叉树</p>
<p>左右子树都是平衡二叉树</p>
<p>左右子树高度之差不大于1</p>
<p>1.概念</p>
<p>平衡二叉树建立在二叉排序树的基础上，目的是使二叉排序树的平均查找长度更小，<br>即让各结点的深度尽可能小，因此，树中每个结点的两棵子树的深度不要偏差太大。</p>
<p>平衡二叉树的递归定义：平衡二叉树是一棵二叉树，其可以为空，<br>或满足如下2个性质：①左右子树深度之差的绝对值不大于1。②左右子树都是平衡二叉树。</p>
<p>平衡因子的概念：结点的平衡因子 &#x3D; 结点的左子树深度 — 结点的右子树深度。</p>
<p>最低不平衡结点的概念：用A表示最低不平衡结点，则A的祖先结点可能有不平衡的，但其所有后代结点都是平衡的。</p>
<p>2.平衡化的实现</p>
<p>整个实现过程是通过在一棵平衡二叉树中依次插入元素(按照二叉排序树的方式)，若出现不平衡，<br>则要根据新插入的结点与最低不平衡结点的位置关系进行相应的调整。分为LL型、RR型、LR型和RL型4种类型，<br>各调整方法如下(下面用A表示最低不平衡结点)：</p>
<p>（1）LL型调整：</p>
<p>由于在A的左孩子(L)的左子树(L)上插入新结点，使原来平衡二叉树变得不平衡，此时A的平衡因子由1增至2。<br>显然，按照大小关系，结点B应作为新的根结点，其余两个节点分别作为左右孩子节点才能平衡，A结点就好像是绕结点B顺时针旋转一样。</p>
<p>（2）RR型调整：</p>
<p>由于在A的右孩子(R)的右子树(R)上插入新结点，使原来平衡二叉树变得不平衡，此时A的平衡因子由-1变为-2。<br>显然，按照大小关系，结点B应作为新的根结点，其余两个节点分别作为左右孩子节点才能平衡，A结点就好像是绕结点B逆时针旋转一样。</p>
<p>（3）LR型调整：</p>
<p>由于在A的左孩子(L)的右子树(R)上插入新结点，使原来平衡二叉树变得不平衡，此时A的平衡因子由1变为2。<br>显然，按照大小关系，结点C应作为新的根结点，其余两个节点分别作为左右孩子节点才能平衡。</p>
<p>（4）RL型调整：</p>
<p>由于在A的右孩子(R)的左子树(L)上插入新结点，使原来平衡二叉树变得不平衡，此时A的平衡因子由-1变为-2。<br>显然，按照大小关系，结点C应作为新的根结点，其余两个节点分别作为左右孩子节点才能平衡。</p>
<p>平衡二叉树的深度接近log2n的数量级，从而保证在二叉排序树上插入、删除和查找等操作的平均时间复杂度为O(log2n)。 </p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/C%E8%AF%AD%E8%A8%80/" class="category-chain-item">C语言</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E5%A4%8D%E4%B9%A0/">#复习</a>
      
        <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">#数据结构</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>数据结构总复习</div>
      <div>https://leonahe1.github.io/2023/02/11/数据结构总复习/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Leonahe</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年2月11日</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>许可协议</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - 署名">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/02/11/IO%E6%80%BB%E5%A4%8D%E4%B9%A0/" title="IO总复习">
                        <span class="hidden-mobile">IO总复习</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script  src="https://lib.baomitu.com/prism/1.27.0/plugins/line-numbers/prism-line-numbers.min.js" ></script>

  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
